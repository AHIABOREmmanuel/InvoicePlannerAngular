import{a as _t}from"./chunk-MAJ5WIKH.js";import{a as ht}from"./chunk-2NYAIQSO.js";import{a as Pi}from"./chunk-XZ7YZGUI.js";import{a as gi,b as gt}from"./chunk-JWYPNLT4.js";import{a as mi,b as pi,c as ui,d as ut,e as fi,f as ye}from"./chunk-AMPKMMIW.js";import{c as Ce,d as oe,f as W,g as Wt,h as ee,i as we,j as Yt,k as De,l as Xt}from"./chunk-F2X3VGZZ.js";import{a as di}from"./chunk-WH3ATHPE.js";import{c as Fe,d as b,f as Oe,g as ot,i as Ae,j as at,k as rt,l as st,m as lt,n as dt,o as ct,p as Le,q as Ve,r as Re,s as mt,t as oi,u as ai}from"./chunk-AXPUYUO6.js";import{a as je,b as ae,c as ci,h as pt,j as ft}from"./chunk-KXSZGWIH.js";import{$ as Y,C as ke,E as ii,S as B,T as Me,U as ge,W as _e,Z as ni,_ as Pe,a as qe,aa as Ge,b as tt,c as wt,d as it,e as Dt,f as kt,j as Mt,l as Jt,n as Kt,q as Qe,r as Pt,t as ei,v as ti,x as nt}from"./chunk-ILEKMRCL.js";import{$a as Gt,A as Xe,Aa as me,B as V,Ba as pe,Ca as te,D as L,Da as Ee,E as Te,Ea as G,Fa as K,Ga as Ke,Ha as He,I as $t,Ia as k,Ja as Ut,K as Nt,Ka as M,L as Ne,La as ue,M as l,Na as y,Oa as Z,Q as I,S as F,T as J,Ta as qt,U as Bt,Ua as ie,Va as fe,W as z,Wa as N,X as u,Xa as et,Ya as Se,Z as w,Za as Qt,_ as c,_a as Ie,a as Et,ab as ne,ba as be,bb as Ue,ca as A,da as R,db as Zt,e as Mi,ea as o,fa as n,ga as p,ha as le,i as St,ia as de,ja as $,ka as S,la as h,lb as ri,ma as m,mb as si,n as It,na as Je,nb as ze,o as Rt,oa as Be,ob as li,qa as D,qb as Ze,ra as xe,s as se,sa as T,t as X,ta as E,ua as Ht,v as zt,va as s,w as j,wa as v,x as jt,xa as g,y as x,ya as Q,z as C,za as ce}from"./chunk-NOLPEQEU.js";var U=Mi(Pi());var he=class t{constructor(a){this.http=a}apiUrl=`${gi.apiUrl}/api/deviss`;create(a){return this.http.post(this.apiUrl,a)}update(a,e){return this.http.put(`${this.apiUrl}/${a}`,e)}delete(a){return this.http.delete(`${this.apiUrl}/${a}`)}findByTrackingId(a){return this.http.get(`${this.apiUrl}/${a}`)}findAll(){return this.http.get(this.apiUrl)}findByCreatedBy(){return this.http.get(`${this.apiUrl}/createdBy`)}updateDevisStatus(a,e){return this.http.put(`${this.apiUrl}/${a}/status`,{statut:e})}convertToFacture(a){return this.http.post(`${this.apiUrl}/${a}/convertToFacture`,{})}downloadDevisPDF(a){return this.http.get(`${this.apiUrl}/${a}/downloadPDF`,{responseType:"blob"})}getDevisPDF(a){return this.http.get(`${this.apiUrl}/${a}/getPDF`,{responseType:"blob"})}deleteDevis(a){return this.http.delete(`${this.apiUrl}/${a}`)}static \u0275fac=function(e){return new(e||t)(zt(Zt))};static \u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"})};var hi=()=>["add-devis"],We=(t,a)=>({"btn-primary":t,"btn-outline-primary":a}),Fi=t=>["/dashboard/devis/edit-devis",t],Oi=(t,a,e,i)=>({"bg-light":t,"bg-info-subtle":a,"bg-success-subtle":e,"bg-danger-subtle":i}),Ai=t=>["edit-devis",t],Li=(t,a,e,i)=>({"badge bg-secondary":t,"badge bg-info":a,"badge bg-success":e,"badge bg-danger":i}),Vi=()=>[];function Ri(t,a){t&1&&(o(0,"div",38)(1,"div",39)(2,"span",40),s(3,"Chargement..."),n()()())}function zi(t,a){if(t&1&&(o(0,"div",41),s(1),n()),t&2){let e=m();l(),g(" ",e.errorMessage," ")}}function ji(t,a){if(t&1){let e=S();o(0,"div",42)(1,"div",43)(2,"div",44)(3,"div",45),p(4,"i",46),n(),o(5,"div",47)(6,"select",48),pe("ngModelChange",function(r){let d=x(e).$implicit;return me(d.statut,r)||(d.statut=r),C(r)}),h("change",function(){let r=x(e).$implicit,d=m();return C(d.updateDevisStatus(r))}),o(7,"option",49),s(8,"Brouillon"),n(),o(9,"option",50),s(10,"Envoy\xE9"),n(),o(11,"option",51),s(12,"Accept\xE9"),n(),o(13,"option",52),s(14,"Refus\xE9"),n()()()(),o(15,"div",53),h("click",function(){let r=x(e).$implicit,d=m();return C(d.openDetailsModal(r))}),o(16,"div",54)(17,"div",55),p(18,"div",56)(19,"div",56)(20,"div",56)(21,"div",56),n(),o(22,"h6",57),s(23),n(),o(24,"p",58),s(25),n(),o(26,"p",59),s(27),n(),o(28,"div",60)(29,"span",61),s(30),k(31,"date"),n(),o(32,"span",62),s(33),k(34,"currency"),n()()()(),o(35,"div",63)(36,"button",64),p(37,"i",65),n(),o(38,"button",66),h("click",function(){let r=x(e).$implicit,d=m();return C(d.convertToFacture(r))}),p(39,"i",67),s(40," Facture "),n(),o(41,"button",68),h("click",function(){let r=x(e).$implicit,d=m();return C(d.downloadDevis(r))}),p(42,"i",69),n(),o(43,"button",70),h("click",function(){let r=x(e).$implicit,d=m();return C(d.deleteDevis(r))}),p(44,"i",71),n()()()()}if(t&2){let e=a.$implicit;l(2),c("ngClass",He(14,Oi,e.statut==="BROUILLON",e.statut==="ENVOYE",e.statut==="ACCEPTE",e.statut==="REFUSE")),l(4),ce("ngModel",e.statut),l(17),v(e.nomProjet),l(2),g("Ref: ",e.reference,""),l(2),g(" Client: ",e.clientName||e.clientTrackingId," "),l(3),v(M(31,8,e.dateEmission,"dd/MM/yyyy")),l(3),v(M(34,11,e.prixTTC,"CFA")),l(3),c("routerLink",G(19,Ai,e.trackingId))}}function $i(t,a){t&1&&(o(0,"div",72)(1,"div",73)(2,"div",74),p(3,"i",75),n(),o(4,"h4"),s(5,"Aucun devis trouv\xE9"),n(),o(6,"p",76),s(7," Il n'y a pas de devis correspondant \xE0 votre recherche "),n(),o(8,"button",7),p(9,"i",8),s(10,"Cr\xE9er un devis "),n()()()),t&2&&(l(8),c("routerLink",Ee(1,hi)))}function Ni(t,a){if(t&1&&(o(0,"h5",77),s(1),n()),t&2){let e=m();l(),g(" D\xE9tails du devis - ",e.selectedDevis.reference," ")}}function Bi(t,a){if(t&1&&(o(0,"p",81)(1,"strong"),s(2,"Validation:"),n(),s(3),k(4,"date"),n()),t&2){let e=m(2);l(3),g(" ",M(4,1,e.selectedDevis.dateEmission,"dd/MM/yyyy")," ")}}function Hi(t,a){if(t&1&&(o(0,"p",81)(1,"strong"),s(2,"Nom:"),n(),s(3),n()),t&2){let e=m(2);l(3),g(" ",e.selectedDevis.clientName," ")}}function Ui(t,a){if(t&1&&(o(0,"p",81)(1,"strong"),s(2,"Email:"),n(),s(3),n()),t&2){let e=m(2);l(3),g(" ",e.selectedDevis.clientEmail," ")}}function qi(t,a){if(t&1&&(o(0,"tr")(1,"td"),s(2),n(),o(3,"td",87),s(4),n(),o(5,"td",87),s(6),k(7,"currency"),n(),o(8,"td",87),s(9),k(10,"currency"),n()()),t&2){let e=a.$implicit;l(2),v(e.description),l(2),v(e.prixTotal),l(2),g(" ",M(7,4,e.prixUnitaire,"CFA")," "),l(3),g(" ",M(10,7,e.prixTotal*e.prixUnitaire,"CFA")," ")}}function Qi(t,a){t&1&&(o(0,"tr")(1,"td",96),s(2," Aucun d\xE9tail disponible "),n()())}function Gi(t,a){t&1&&(o(0,"p",81),s(1," Remise: "),n())}function Zi(t,a){if(t&1&&(o(0,"p",97),s(1),k(2,"currency"),n()),t&2){let e=m(2);l(),g(" -",M(2,1,e.selectedDevis.remise,"CFA")," ")}}function Wi(t,a){if(t&1&&(o(0,"div",98)(1,"h6",79),s(2,"Notes"),n(),o(3,"p"),s(4),n()()),t&2){let e=m(2);l(4),v(e.selectedDevis.notes)}}function Yi(t,a){if(t&1&&(o(0,"div",78)(1,"div",2)(2,"div",13)(3,"h6",79),s(4,"Informations g\xE9n\xE9rales"),n(),o(5,"div",80)(6,"p",81)(7,"strong"),s(8,"Projet:"),n(),s(9),n(),o(10,"p",81)(11,"strong"),s(12,"R\xE9f\xE9rence:"),n(),s(13),n(),o(14,"p",81)(15,"strong"),s(16,"\xC9tat:"),n(),o(17,"span",82),s(18),k(19,"titlecase"),n()()()(),o(20,"div",13)(21,"h6",79),s(22,"Dates"),n(),o(23,"div",80)(24,"p",81)(25,"strong"),s(26,"\xC9mission:"),n(),s(27),k(28,"date"),n(),o(29,"p",81)(30,"strong"),s(31,"\xC9ch\xE9ance:"),n(),s(32),k(33,"date"),n(),u(34,Bi,5,4,"p",83),n()(),o(35,"div",72)(36,"h6",84),s(37,"Client"),n(),o(38,"div",80)(39,"p",81)(40,"strong"),s(41,"ID:"),n(),s(42),n(),u(43,Hi,4,1,"p",83)(44,Ui,4,1,"p",83),n()(),o(45,"div",72)(46,"h6",84),s(47,"D\xE9tails des prestations"),n(),o(48,"div",85)(49,"table",86)(50,"thead")(51,"tr")(52,"th"),s(53,"Description"),n(),o(54,"th",87),s(55,"Quantit\xE9"),n(),o(56,"th",87),s(57,"Prix unitaire"),n(),o(58,"th",87),s(59,"Total"),n()()(),o(60,"tbody"),u(61,qi,11,10,"tr",88)(62,Qi,3,0,"tr",89),n()()()(),o(63,"div",72)(64,"h6",84),s(65,"R\xE9sum\xE9 financier"),n(),o(66,"div",90)(67,"div",9)(68,"div",2)(69,"div",91)(70,"p",81),s(71,"Prix HT:"),n(),o(72,"p",81),s(73),n(),u(74,Gi,2,0,"p",83),o(75,"p",92),s(76,"Total TTC:"),n()(),o(77,"div",93)(78,"p",81),s(79),k(80,"currency"),n(),o(81,"p",81),s(82),k(83,"currency"),n(),u(84,Zi,3,4,"p",94),o(85,"p",92),s(86),k(87,"currency"),n()()()()()(),u(88,Wi,5,1,"div",95),n()()),t&2){let e=m();l(9),g(" ",e.selectedDevis.nomProjet," "),l(4),g(" ",e.selectedDevis.reference," "),l(4),c("ngClass",He(36,Li,e.selectedDevis.statut==="brouillon",e.selectedDevis.statut==="envoye",e.selectedDevis.statut==="accepte",e.selectedDevis.statut==="refuse")),l(),v(Ut(19,19,e.selectedDevis.statut)),l(9),g(" ",M(28,21,e.selectedDevis.dateEmission,"dd/MM/yyyy")," "),l(5),g(" ",M(33,24,e.selectedDevis.dateEcheance,"dd/MM/yyyy")," "),l(2),c("ngIf",e.selectedDevis.dateEmission),l(8),g(" ",e.selectedDevis.clientTrackingId," "),l(),c("ngIf",e.selectedDevis.clientName),l(),c("ngIf",e.selectedDevis.clientEmail),l(17),c("ngForOf",e.selectedDevis.prestations||Ee(41,Vi)),l(),c("ngIf",!e.selectedDevis.prestations||e.selectedDevis.prestations.length===0),l(11),g("TVA (",e.selectedDevis.tva,"%):"),l(),c("ngIf",e.selectedDevis.remise>0),l(5),g(" ",M(80,27,e.selectedDevis.prixTotal,"CFA")," "),l(3),g(" ",M(83,30,e.selectedDevis.prixTotal*e.selectedDevis.tva/100,"CFA")," "),l(2),c("ngIf",e.selectedDevis.remise>0),l(2),g(" ",M(87,33,e.selectedDevis.prixTTC,"CFA")," "),l(2),c("ngIf",e.selectedDevis.notes)}}function Xi(t,a){if(t&1){let e=S();o(0,"button",99),h("click",function(){x(e);let r=m();return C(r.convertToFacture(r.selectedDevis))}),p(1,"i",100),s(2,"Convertir en facture "),n()}}var vt=class t{constructor(a,e){this.devisService=a;this.router=e}devis=[];isLoading=!1;errorMessage=null;activeFilter="tous";searchTerm="";filteredDevis=[];selectedDevis=null;ngOnInit(){this.loadDevis()}loadDevis(){this.isLoading=!0,this.errorMessage=null,this.devisService.findByCreatedBy().subscribe({next:a=>{this.devis=a.data,this.applyFilters(),this.isLoading=!1},error:a=>{console.error("Erreur lors du chargement des devis:",a),this.errorMessage="Erreur lors du chargement des devis. Veuillez r\xE9essayer.",this.isLoading=!1,U.default.fire({icon:"error",title:"Erreur",text:this.errorMessage})}})}updateDevisStatus(a){let e=a.statut;this.devisService.updateDevisStatus(a.trackingId,a.statut).subscribe({next:()=>{U.default.fire({icon:"success",title:"Succ\xE8s",text:`Statut du devis ${a.reference} mis \xE0 jour avec succ\xE8s`,timer:2e3,showConfirmButton:!1}),this.loadDevis()},error:i=>{a.statut=e,U.default.fire({icon:"error",title:"Erreur",text:`Erreur lors de la mise \xE0 jour du statut: ${i.error?.message||"Erreur inconnue"}`}),console.error("Erreur de mise \xE0 jour du statut:",i)}})}convertToFacture(a){if(a.statut!=="accepte"){U.default.fire({icon:"warning",title:"Attention",text:"Seuls les devis accept\xE9s peuvent \xEAtre convertis en facture"});return}U.default.fire({title:"Confirmation",text:`\xCAtes-vous s\xFBr de vouloir convertir le devis ${a.reference} en facture ?`,icon:"question",showCancelButton:!0,confirmButtonText:"Oui, convertir",cancelButtonText:"Non, annuler",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"}).then(e=>{e.isConfirmed&&this.devisService.convertToFacture(a.trackingId).subscribe({next:i=>{U.default.fire({icon:"success",title:"Succ\xE8s",text:"Devis converti en facture avec succ\xE8s",timer:2e3,showConfirmButton:!1}).then(()=>{this.router.navigate(["/dashboard/factures/details",i])})},error:i=>{U.default.fire({icon:"error",title:"Erreur",text:"Erreur lors de la conversion en facture"}),console.error("Erreur de conversion:",i)}})})}downloadDevis(a){this.devisService.downloadDevisPDF(a.trackingId).subscribe({next:e=>{let i=window.URL.createObjectURL(e),r=document.createElement("a");r.href=i,r.download=`Devis_${a.reference}.pdf`,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(i)},error:e=>{U.default.fire({icon:"error",title:"Erreur",text:"Erreur lors du t\xE9l\xE9chargement du PDF"}),console.error("Erreur de t\xE9l\xE9chargement:",e)}})}deleteDevis(a){U.default.fire({title:"\xCAtes-vous s\xFBr ?",text:`Voulez-vous vraiment supprimer le devis ${a.reference} ?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Oui, supprimer",cancelButtonText:"Non, annuler",confirmButtonColor:"#d33",cancelButtonColor:"#3085d6"}).then(e=>{e.isConfirmed&&(this.isLoading=!0,this.devisService.deleteDevis(a.trackingId).subscribe({next:i=>{U.default.fire({icon:"success",title:"Supprim\xE9 !",text:`Le devis ${a.reference} a \xE9t\xE9 supprim\xE9 avec succ\xE8s`,timer:2e3,showConfirmButton:!1}),this.loadDevis()},error:i=>{this.isLoading=!1,U.default.fire({icon:"error",title:"Erreur",text:`Erreur lors de la suppression du devis: ${i.error?.message||"Erreur inconnue"}`}),console.error("Erreur de suppression:",i)}}))})}filterDevis(a){this.activeFilter=a,this.applyFilters()}applyFilters(){let a=this.devis;if(this.activeFilter!=="tous"?a=this.devis.filter(e=>e.statut===this.activeFilter):a=this.devis,this.searchTerm&&this.searchTerm.trim()!==""){let e=this.searchTerm.toLowerCase().trim();a=a.filter(i=>i.nomProjet.toLowerCase().includes(e)||i.reference.toLowerCase().includes(e)||i.clientName&&i.clientName.toLowerCase().includes(e))}this.filteredDevis=a}openDetailsModal(a){this.selectedDevis=a,console.log(this.selectedDevis)}addDevis(){this.router.navigate(["add-devis"])}editDevis(a){this.router.navigate(["edit-devis",a])}static \u0275fac=function(e){return new(e||t)(I(he),I(ze))};static \u0275cmp=F({type:t,selectors:[["app-list-devis"]],standalone:!1,decls:53,vars:33,consts:[[1,"pc-container"],[1,"pc-content"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-header","bg-light","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"btn","btn-primary",3,"routerLink"],[1,"bx","bx-plus","me-2"],[1,"card-body"],["class","text-center my-4",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"row","mb-4"],[1,"col-md-6"],[1,"input-group"],[1,"input-group-text"],[1,"bx","bx-search"],["type","text","placeholder","Rechercher un devis...",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-end"],["role","group",1,"btn-group"],["type","button",1,"btn",3,"click","ngClass"],[1,"row","g-3"],["class","col-md-6 col-lg-4",4,"ngFor","ngForOf"],["class","col-12",4,"ngIf"],["id","devisDetailsModal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","data-bs-dismiss","modal",1,"btn-close"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["class","btn btn-success","data-bs-dismiss","modal",3,"click",4,"ngIf"],["data-bs-dismiss","modal",1,"btn","btn-outline-primary",3,"routerLink"],[1,"bx","bx-pencil","me-2"],["data-bs-dismiss","modal",1,"btn","btn-outline-secondary",3,"click"],[1,"bx","bx-download","me-2"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"text-center","my-4"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"alert","alert-danger"],[1,"col-md-6","col-lg-4"],[1,"file-card"],[1,"file-header",3,"ngClass"],[1,"file-icon"],[1,"bx","bx-file","fs-2"],[1,"file-status"],[1,"form-select","form-select-sm","status-dropdown",3,"ngModelChange","change","ngModel"],["value","BROUILLON"],["value","ENVOYE"],["value","ACCEPTE"],["value","REFUSE"],[1,"file-body",3,"click"],[1,"file-content"],[1,"file-lines"],[1,"file-line"],[1,"file-title"],[1,"file-ref"],[1,"file-client"],[1,"file-footer"],[1,"file-date"],[1,"file-price"],[1,"file-actions"],["title","Modifier",1,"btn","btn-sm","btn-light",3,"routerLink"],[1,"bx","bx-pencil"],["title","Transformer en facture",1,"btn","btn-sm","btn-primary","mx-1",3,"click"],[1,"bx","bx-file"],["title","T\xE9l\xE9charger",1,"btn","btn-sm","btn-light",3,"click"],[1,"bx","bx-download"],["title","Supprimer",1,"btn","btn-sm","btn-light",3,"click"],[1,"bx","bx-trash"],[1,"col-12"],[1,"empty-state"],[1,"empty-icon"],[1,"bx","bx-file-x","fs-1"],[1,"text-muted"],[1,"modal-title"],[1,"modal-body"],[1,"border-bottom","pb-2"],[1,"mb-3"],[1,"mb-1"],[3,"ngClass"],["class","mb-1",4,"ngIf"],[1,"border-bottom","pb-2","mt-2"],[1,"table-responsive"],[1,"table","table-sm"],[1,"text-end"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"card","bg-light"],[1,"col-6"],[1,"fw-bold","mb-0"],[1,"col-6","text-end"],["class","mb-1 text-danger",4,"ngIf"],["class","col-12 mt-3",4,"ngIf"],["colspan","4",1,"text-center"],[1,"mb-1","text-danger"],[1,"col-12","mt-3"],["data-bs-dismiss","modal",1,"btn","btn-success",3,"click"],[1,"bx","bx-file","me-2"]],template:function(e,i){e&1&&(o(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),s(7,"Gestion des devis"),n(),o(8,"button",7),p(9,"i",8),s(10,"Nouveau devis "),n()(),o(11,"div",9),u(12,Ri,4,0,"div",10)(13,zi,2,1,"div",11),o(14,"div",12)(15,"div",13)(16,"div",14)(17,"span",15),p(18,"i",16),n(),o(19,"input",17),pe("ngModelChange",function(d){return me(i.searchTerm,d)||(i.searchTerm=d),d}),h("ngModelChange",function(){return i.applyFilters()}),n()()(),o(20,"div",13)(21,"div",18)(22,"div",19)(23,"button",20),h("click",function(){return i.filterDevis("tous")}),s(24," Tous "),n(),o(25,"button",20),h("click",function(){return i.filterDevis("BROUILLON")}),s(26," Brouillons "),n(),o(27,"button",20),h("click",function(){return i.filterDevis("ENVOYE")}),s(28," Envoy\xE9s "),n(),o(29,"button",20),h("click",function(){return i.filterDevis("ACCEPTE")}),s(30," Accept\xE9s "),n(),o(31,"button",20),h("click",function(){return i.filterDevis("REFUSE")}),s(32," Refus\xE9s "),n()()()()(),o(33,"div",21),u(34,ji,45,21,"div",22)(35,$i,11,2,"div",23),n()()()()(),o(36,"div",24)(37,"div",25)(38,"div",26)(39,"div",27),u(40,Ni,2,1,"h5",28),p(41,"button",29),n(),u(42,Yi,89,42,"div",30),o(43,"div",31),u(44,Xi,3,0,"button",32),o(45,"button",33),p(46,"i",34),s(47,"Modifier "),n(),o(48,"button",35),h("click",function(){return i.downloadDevis(i.selectedDevis)}),p(49,"i",36),s(50,"T\xE9l\xE9charger "),n(),o(51,"button",37),s(52," Fermer "),n()()()()()()()),e&2&&(l(8),c("routerLink",Ee(15,hi)),l(4),c("ngIf",i.isLoading),l(),c("ngIf",i.errorMessage),l(6),ce("ngModel",i.searchTerm),l(4),c("ngClass",K(16,We,i.activeFilter==="tous",i.activeFilter!=="tous")),l(2),c("ngClass",K(19,We,i.activeFilter==="BROUILLON",i.activeFilter!=="BROUILLON")),l(2),c("ngClass",K(22,We,i.activeFilter==="ENVOYE",i.activeFilter!=="ENVOYE")),l(2),c("ngClass",K(25,We,i.activeFilter==="ACCEPTE",i.activeFilter!=="ACCEPTE")),l(2),c("ngClass",K(28,We,i.activeFilter==="REFUSE",i.activeFilter!=="REFUSE")),l(3),c("ngForOf",i.filteredDevis),l(),c("ngIf",!i.isLoading&&!i.errorMessage&&i.filteredDevis.length===0),l(5),c("ngIf",i.selectedDevis),l(2),c("ngIf",i.selectedDevis),l(2),c("ngIf",(i.selectedDevis==null?null:i.selectedDevis.statut)==="accepte"),l(),c("routerLink",G(31,Fi,i.selectedDevis==null?null:i.selectedDevis.trackingId)))},dependencies:[ie,fe,N,li,Ve,Re,Fe,Le,Oe,Ae,Qt,Gt,Ie],styles:[".file-card[_ngcontent-%COMP%]{position:relative;height:220px;border-radius:8px;overflow:hidden;transition:all .2s ease;box-shadow:0 2px 8px #00000014;margin-bottom:10px;background-color:#fff}.file-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;transform:translateY(-2px)}.file-card[_ngcontent-%COMP%]:hover   .file-actions[_ngcontent-%COMP%]{opacity:1}.file-header[_ngcontent-%COMP%]{height:40px;display:flex;align-items:center;justify-content:space-between;padding:0 15px;border-bottom:1px solid rgba(0,0,0,.05)}.file-header[_ngcontent-%COMP%]   .file-icon[_ngcontent-%COMP%]{color:#555}.file-header[_ngcontent-%COMP%]   .status-dropdown[_ngcontent-%COMP%]{font-size:12px;padding:2px 6px;height:auto;border-radius:4px;width:auto;min-width:100px;background-color:#fffc}.file-header[_ngcontent-%COMP%]   .status-dropdown[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#dee2e6}.file-body[_ngcontent-%COMP%]{height:140px;padding:15px;cursor:pointer;position:relative;overflow:hidden}.file-body[_ngcontent-%COMP%]   .file-content[_ngcontent-%COMP%]{position:relative;z-index:2}.file-body[_ngcontent-%COMP%]   .file-lines[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;padding:15px;opacity:.2}.file-body[_ngcontent-%COMP%]   .file-lines[_ngcontent-%COMP%]   .file-line[_ngcontent-%COMP%]{height:4px;background-color:#e9ecef;margin:12px 0;width:100%;border-radius:2px}.file-body[_ngcontent-%COMP%]   .file-lines[_ngcontent-%COMP%]   .file-line[_ngcontent-%COMP%]:nth-child(2){width:85%}.file-body[_ngcontent-%COMP%]   .file-lines[_ngcontent-%COMP%]   .file-line[_ngcontent-%COMP%]:nth-child(3){width:70%}.file-body[_ngcontent-%COMP%]   .file-lines[_ngcontent-%COMP%]   .file-line[_ngcontent-%COMP%]:nth-child(4){width:60%}.file-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.file-ref[_ngcontent-%COMP%]{color:#6c757d;font-size:13px;margin-bottom:5px}.file-client[_ngcontent-%COMP%]{color:#495057;font-size:13px;margin-bottom:5px}.file-footer[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:space-between;align-items:center}.file-footer[_ngcontent-%COMP%]   .file-date[_ngcontent-%COMP%]{font-size:12px;color:#6c757d}.file-footer[_ngcontent-%COMP%]   .file-price[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#198754}.file-actions[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;display:flex;justify-content:space-around;background-color:#ffffffe6;padding:5px;opacity:0;transition:opacity .2s ease;border-top:1px solid rgba(0,0,0,.05);height:40px}.file-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:transparent;width:30px;height:30px;padding:0;display:flex;align-items:center;justify-content:center;color:#495057;border-radius:4px}.file-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;color:#0d6efd}.file-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:#adb5bd;cursor:not-allowed}.file-actions[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]{background-color:#0d6efd!important;color:#fff!important;border:none;min-width:70px;padding:0 10px;display:flex;align-items:center;justify-content:center}.file-actions[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0b5ed7!important;color:#fff!important}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 0}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px;color:#adb5bd;margin-bottom:15px}.empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:10px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{transition:all .2s ease}"]})};function tn(t,a){if(t&1){let e=S();o(0,"tr",95)(1,"td"),s(2),n(),o(3,"td"),p(4,"input",96),n(),o(5,"td"),p(6,"input",97),n(),o(7,"td")(8,"input",98),h("input",function(){let r=x(e).index,d=m();return C(d.updatePrestationTotal(r))}),n()(),o(9,"td")(10,"input",99),h("input",function(){let r=x(e).index,d=m();return C(d.updatePrestationTotal(r))}),n()(),o(11,"td"),p(12,"input",100),n(),o(13,"td")(14,"button",101),h("click",function(){let r=x(e).index,d=m();return C(d.removePrestation(r))}),p(15,"i",102),n()()()}if(t&2){let e=a.index;c("formGroupName",e),l(2),v(e+1)}}function nn(t,a){t&1&&p(0,"span",103)}function on(t,a){if(t&1&&p(0,"img",114),t&2){let e=m(2);c("src",e.previewUrl,Ne)}}function an(t,a){if(t&1&&(o(0,"div",116),s(1),n()),t&2){let e=m().$implicit;l(),v(e.description)}}function rn(t,a){if(t&1&&(o(0,"tr")(1,"td"),s(2),u(3,an,2,1,"div",115),n(),o(4,"td",87),s(5),n(),o(6,"td",87),s(7),n(),o(8,"td",87),s(9),n()()),t&2){let e=a.$implicit;l(2),g(" ",e.designation," "),l(),c("ngIf",e.description),l(2),g("",e.prixUnitaire," CFA"),l(2),v(e.duree),l(2),g("",e.prixTotal," CFA")}}function sn(t,a){if(t&1&&(o(0,"div")(1,"h6"),s(2,"Notes"),n(),o(3,"p"),s(4),n()()),t&2){let e,i=m(2);l(4),v((e=i.devisForm.get("notes"))==null?null:e.value)}}function ln(t,a){if(t&1){let e=S();o(0,"div",3)(1,"div",4)(2,"div",104)(3,"h5",6),s(4,"Aper\xE7u"),n(),o(5,"button",105),h("click",function(){x(e);let r=m();return C(r.showPreview=!1)}),n()(),o(6,"div",106)(7,"div",107)(8,"div")(9,"h4"),s(10),n(),o(11,"p",72),s(12),n(),o(13,"p",72),s(14),n(),o(15,"p"),s(16),n()(),o(17,"div"),u(18,on,1,1,"img",73),n()(),o(19,"div",108)(20,"h2"),s(21),n(),o(22,"p"),s(23),n()(),o(24,"div",9)(25,"div",41)(26,"p")(27,"strong"),s(28,"Date:"),n(),s(29),k(30,"date"),n()(),o(31,"div",42)(32,"p")(33,"strong"),s(34,"\xC9ch\xE9ance:"),n(),s(35),k(36,"date"),n()()(),o(37,"div",109)(38,"h5"),s(39,"Client"),n(),o(40,"p",72),s(41),n(),o(42,"p",72),s(43),n(),o(44,"p",72),s(45),n(),o(46,"p"),s(47),n()(),o(48,"div",29)(49,"table",86)(50,"thead")(51,"tr")(52,"th"),s(53,"D\xE9signation"),n(),o(54,"th",87),s(55,"PU"),n(),o(56,"th",87),s(57,"Qt\xE9"),n(),o(58,"th",87),s(59,"Total"),n()()(),o(60,"tbody"),u(61,rn,10,5,"tr",65),n()()(),o(62,"div",110)(63,"div",41)(64,"div",111)(65,"span"),s(66,"Total HT:"),n(),o(67,"span"),s(68),n()(),o(69,"div",111)(70,"span"),s(71),n(),o(72,"span"),s(73),n()(),o(74,"div",111)(75,"span"),s(76),n(),o(77,"span"),s(78),n()(),p(79,"hr"),o(80,"div",112)(81,"span"),s(82,"Total TTC:"),n(),o(83,"span"),s(84),n()()()(),u(85,sn,5,1,"div",113),n()()()}if(t&2){let e,i,r,d,_,P,O,f=m();l(10),v((f.companyProfile==null?null:f.companyProfile.companyName)||"Votre Entreprise"),l(2),v(f.companyProfile==null?null:f.companyProfile.address),l(2),Q("",f.companyProfile==null?null:f.companyProfile.postalCode," ",f.companyProfile==null?null:f.companyProfile.city,""),l(2),Q("",f.companyProfile==null?null:f.companyProfile.email," | ",f.companyProfile==null?null:f.companyProfile.phoneNumber,""),l(2),c("ngIf",f.companyProfile==null?null:f.companyProfile.hasLogo),l(3),g("Devis ",(e=f.devisForm.get("reference"))==null?null:e.value,""),l(2),g("Projet: ",(i=f.devisForm.get("nomProjet"))==null?null:i.value,""),l(6),g(" ",M(30,24,(r=f.devisForm.get("dateEmission"))==null?null:r.value,"dd/MM/yyyy"),""),l(6),g(" ",M(36,27,(d=f.devisForm.get("dateEcheance"))==null?null:d.value,"dd/MM/yyyy"),""),l(6),v(f.selectedClient==null?null:f.selectedClient.nom),l(2),v(f.selectedClient==null?null:f.selectedClient.societe),l(2),v(f.selectedClient==null?null:f.selectedClient.adresse),l(2),Q("",f.selectedClient==null?null:f.selectedClient.email," | ",f.selectedClient==null?null:f.selectedClient.telephone,""),l(14),c("ngForOf",f.prestationsArray.value),l(7),g("",f.totalHT," CFA"),l(3),g("TVA (",(_=f.devisForm.get("tva"))==null?null:_.value,"%):"),l(2),g("",f.montantTVA," CFA"),l(3),g("Remise (",(P=f.devisForm.get("remise"))==null?null:P.value,"%):"),l(2),g("-",f.montantRemise," CFA"),l(6),g("",f.totalTTC," CFA"),l(),c("ngIf",(O=f.devisForm.get("notes"))==null?null:O.value)}}function dn(t,a){if(t&1){let e=S();o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td")(8,"button",117),h("click",function(){let r=x(e).$implicit,d=m();return C(d.selectClient(r))}),s(9," S\xE9lectionner "),n()()()}if(t&2){let e=a.$implicit;l(2),v(e.nom),l(2),v(e.societe),l(2),v(e.email)}}function cn(t,a){if(t&1){let e=S();o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td")(8,"button",117),h("click",function(){let r=x(e).$implicit,d=m();return C(d.selectPrestation(r))}),s(9," Ajouter "),n()()()}if(t&2){let e=a.$implicit;l(2),v(e.designation),l(2),v(e.description),l(2),g("",e.prixUnitaire," CFA")}}function mn(t,a){if(t&1&&p(0,"img",114),t&2){let e=m();c("src",e.previewUrl,Ne)}}function pn(t,a){if(t&1&&(o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td",87),s(8),n(),o(9,"td",87),s(10),n(),o(11,"td",87),s(12),n()()),t&2){let e=a.$implicit,i=a.index;l(2),v(i+1),l(2),v(e.designation),l(2),v(e.description),l(2),g("",e.prixUnitaire," CFA"),l(2),v(e.duree),l(2),g("",e.prixTotal," CFA")}}var bt=class t{constructor(a,e,i,r,d,_){this.fb=a;this.devisService=e;this.clientsService=i;this.prestationsService=r;this.companyProfileService=d;this.router=_;this.devisForm=this.fb.group({reference:["",b.required],nomProjet:["",b.required],description:[""],client:[null,b.required],dateEmission:[new Date,b.required],dateEcheance:[this.addDays(new Date,30),b.required],prixTotal:[0,b.required],prixTTC:[0,b.required],tva:[20,b.required],remise:[0,b.required],statut:["BROUILLON",b.required],notes:[""],prestations:this.fb.array([])}),console.log("Formulaire initialis\xE9:",this.devisForm.value)}devisForm;clients=[];filteredClients=[];prestations=[];filteredPrestations=[];selectedClient=null;companyProfile=null;previewUrl=null;today=new Date().toISOString().split("T")[0];todayPlusOneMonth=(()=>{let a=new Date;return a.setMonth(a.getMonth()+1),a.toISOString().split("T")[0]})();loading=!1;showPreview=!1;searchTermClient="";searchTermPrestation="";totalHT=0;montantTVA=0;montantRemise=0;totalTTC=0;clientModal;prestationModal;previewModal;errorMessage="";ngOnInit(){console.log("ngOnInit AddDevisComponent"),this.loadClients(),this.loadPrestations(),this.loadCompanyProfile(),this.initModals(),console.log("Formulaire apr\xE8s init (avant r\xE9f\xE9rence):",this.devisForm.value);let a=new Date,e=`DEV-${a.getFullYear()}${(a.getMonth()+1).toString().padStart(2,"0")}-${this.generateRandomReference()}`;console.log("R\xE9f\xE9rence g\xE9n\xE9r\xE9e:",e),this.devisForm.patchValue({reference:e})}loadCompanyProfile(){console.log("Chargement du profil..."),this.loading=!0,this.companyProfileService.getProfile().pipe(It(a=>(console.error("Erreur lors du chargement du profil:",a),a.status!==404&&(this.errorMessage="Erreur lors du chargement du profil"),St(null))),Rt(()=>{this.loading=!1,console.log("Fin du chargement du profil")})).subscribe(a=>{console.log("Profil r\xE9cup\xE9r\xE9:",a),a&&(this.companyProfile=a,a.trackingId&&a.hasLogo?(console.log("Le profil a un logo, mise \xE0 jour de l'URL de pr\xE9visualisation"),this.updatePreviewUrl(a.trackingId)):console.log("Le profil n'a pas de logo ou pas de trackingId:",a))})}updatePreviewUrl(a){this.companyProfileService.getLogoImage(a).pipe(It(e=>(console.error("Erreur lors du chargement du logo:",e),St(null)))).subscribe(e=>{e&&(this.previewUrl=URL.createObjectURL(e),console.log("Preview logo URL (cache bust):",this.previewUrl))})}initModals(){setTimeout(()=>{this.clientModal=new bootstrap.Modal(document.getElementById("clientModal")),this.prestationModal=new bootstrap.Modal(document.getElementById("prestationModal")),this.previewModal=new bootstrap.Modal(document.getElementById("previewModal")),console.log("Modals initialis\xE9s:",{clientModal:this.clientModal,prestationModal:this.prestationModal,previewModal:this.previewModal})},500)}loadClients(){this.clientsService.getClients().subscribe(a=>{this.clients=a.data||[],this.filteredClients=[...this.clients],console.log("Clients charg\xE9s:",this.clients)},a=>console.error("Erreur lors du chargement des clients:",a))}loadPrestations(){this.prestationsService.findByCreatedBy().subscribe(a=>{this.prestations=a||[],this.filteredPrestations=[...this.prestations],console.log("Prestations charg\xE9es:",this.prestations)},a=>console.error("Erreur lors du chargement des prestations:",a))}get prestationsArray(){let a=this.devisForm.get("prestations");return console.log("Acc\xE8s au FormArray des prestations:",a.value),a}addEmptyPrestation(){let a=this.fb.group({designation:["",b.required],description:[""],prixUnitaire:[0,[b.required,b.min(0)]],duree:[1,[b.required,b.min(.1)]],prixTotal:[0,b.required]});this.prestationsArray.push(a),console.log("Ajout d'une prestation vide, index:",this.prestationsArray.length-1,this.prestationsArray.value)}removePrestation(a){this.prestationsArray.removeAt(a),console.log("Suppression prestation index:",a,"prestations restantes:",this.prestationsArray.value),this.updateTotals()}updatePrestationTotal(a){let e=this.prestationsArray.at(a),i=e.get("prixUnitaire")?.value||0,r=e.get("duree")?.value||0,d=i*r;e.patchValue({prixTotal:d}),console.log(`Mise \xE0 jour prestation ${a}, prixUnitaire: ${i},`,`dur\xE9e: ${r}, total: ${d}`),this.updateTotals()}updateTotals(){this.totalHT=this.prestationsArray.controls.reduce((i,r)=>i+(r.get("prixTotal")?.value||0),0);let a=this.devisForm.get("tva")?.value||0;this.montantTVA=this.totalHT*a/100;let e=this.devisForm.get("remise")?.value||0;this.montantRemise=this.totalHT*e/100,this.totalTTC=this.totalHT+this.montantTVA-this.montantRemise,console.log(`Totaux mis \xE0 jour - HT: ${this.totalHT}, TVA: ${this.montantTVA},`,`Remise: ${this.montantRemise}, TTC: ${this.totalTTC}`),this.devisForm.patchValue({prixTotal:this.totalHT,prixTTC:this.totalTTC})}openClientModal(){this.searchTermClient="",this.filteredClients=[...this.clients],console.log("Ouverture modal clients, clients disponibles:",this.filteredClients.length),this.clientModal.show()}openPrestationModal(){this.searchTermPrestation="",this.filteredPrestations=[...this.prestations],console.log("Ouverture modal prestations, prestations disponibles:",this.filteredPrestations.length),this.prestationModal.show()}filterClients(){let a=this.searchTermClient.toLowerCase();this.filteredClients=this.clients.filter(e=>e.nom.toLowerCase().includes(a)||e.email.toLowerCase().includes(a)||e.societe&&e.societe.toLowerCase().includes(a)),console.log(`Recherche client "${a}", r\xE9sultats:`,this.filteredClients)}filterPrestations(){let a=this.searchTermPrestation.toLowerCase();this.filteredPrestations=this.prestations.filter(e=>e.designation.toLowerCase().includes(a)||e.description&&e.description.toLowerCase().includes(a)),console.log(`Recherche prestation "${a}", r\xE9sultats:`,this.filteredPrestations)}previewDevis(){this.showPreview=!0,console.log("Aper\xE7u du devis g\xE9n\xE9r\xE9:",this.devisForm.value),this.previewModal.show()}exportToPDF(){console.log("Export PDF demand\xE9 pour le devis:",this.devisForm.value),alert("Fonctionnalit\xE9 d'export en PDF \xE0 impl\xE9menter")}onSubmit(){if(this.devisForm.invalid||!this.selectedClient){this.selectedClient||(this.devisForm.get("client")?.markAsTouched(),this.errorMessage="Veuillez s\xE9lectionner un client");return}this.loading=!0;let a=this.devisForm.value,e=a.prestations.filter(r=>r.trackingId).map(r=>({trackingId:r.trackingId,designation:r.designation,description:r.description,prixUnitaire:r.prixUnitaire,duree:r.duree,prixTotal:r.prixTotal})),i={reference:a.reference,nomProjet:a.nomProjet,description:a.description,client:this.selectedClient,dateEmission:a.dateEmission,dateEcheance:a.dateEcheance,prixTotal:a.prixTotal,prixTTC:a.prixTTC,tva:a.tva,remise:a.remise,statut:a.statut,notes:a.notes,prestations:e};console.log("Requ\xEAte de cr\xE9ation du devis avec prestations (incluant trackingId):",i),this.devisService.create(i).subscribe(r=>{this.loading=!1,console.log("Devis cr\xE9\xE9 avec succ\xE8s:",r),alert("Devis cr\xE9\xE9 avec succ\xE8s!"),this.router.navigate(["/dashboard/devis"])},r=>{this.loading=!1,console.error("Erreur lors de la cr\xE9ation du devis:",r),alert("Une erreur est survenue lors de la cr\xE9ation du devis: "+(r.error?.message||"Erreur inconnue"))})}addDays(a,e){let i=new Date(a);return i.setDate(i.getDate()+e),console.log(`addDays: date initiale ${a}, jours ajout\xE9s ${e}, r\xE9sultat ${i}`),i}generateRandomReference(){let a=Math.floor(100+Math.random()*900).toString();return console.log("generateRandomReference:",a),a}selectClient(a){this.selectedClient=a,this.devisForm.get("client")?.setValue(a),this.devisForm.get("client")?.updateValueAndValidity(),console.log("Client s\xE9lectionn\xE9 et formulaire mis \xE0 jour:",a,this.devisForm.value),this.clientModal.hide()}selectPrestation(a){let e=a.trackingId||this.generateTrackingId(),i=this.fb.group({trackingId:[e,b.required],designation:[a.designation,b.required],description:[a.description||""],prixUnitaire:[a.prixUnitaire,[b.required,b.min(0)]],duree:[1,[b.required,b.min(.1)]],prixTotal:[a.prixUnitaire,b.required]});this.prestationsArray.push(i),this.updateTotals(),console.log("Prestation s\xE9lectionn\xE9e ajout\xE9e:",a,"index:",this.prestationsArray.length-1)}generateTrackingId(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}static \u0275fac=function(e){return new(e||t)(I(mt),I(he),I(_t),I(ht),I(gt),I(ze))};static \u0275cmp=F({type:t,selectors:[["app-add-devis"]],standalone:!1,decls:293,vars:53,consts:[[1,"pc-container"],[1,"row"],[1,"row","pc-content"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"row","mb-3"],[1,"col-md-6"],[1,"form-label"],["type","text","formControlName","reference",1,"form-control"],["type","text","formControlName","nomProjet",1,"form-control"],[1,"col-12"],["formControlName","description","rows","2",1,"form-control"],[1,"col-md-9"],[1,"input-group"],["type","text","formControlName","client","readonly","",1,"form-control",3,"value"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bx","bx-search-alt"],[1,"col-md-3"],["formControlName","statut",1,"form-select"],["value","BROUILLON"],["for","dateEmission",1,"form-label"],["id","dateEmission","type","date","formControlName","dateEmission",1,"form-control",3,"min","value"],["for","dateEcheance",1,"form-label"],["id","dateEcheance","type","date","formControlName","dateEcheance",1,"form-control",3,"min","value"],[1,"mt-4"],[1,"table-responsive","mb-3"],[1,"table","table-bordered"],[1,"table-light"],["formArrayName","prestations"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"mb-3"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"bx","bx-plus"],["type","button",1,"btn","btn-outline-secondary","ms-2",3,"click"],[1,"bx","bx-list-plus"],["formControlName","notes","rows","4",1,"form-control"],[1,"row","mb-2"],[1,"col-6"],[1,"col-6","text-end"],[1,"input-group","input-group-sm"],["type","number","formControlName","tva",1,"form-control",3,"input"],[1,"input-group-text"],["type","number","formControlName","remise",1,"form-control",3,"input"],[1,"row","fw-bold"],[1,"text-end","mb-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"bx","bx-show"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bx","bx-save"],["class","spinner-border spinner-border-sm ms-1",4,"ngIf"],["class","col-md-12",4,"ngIf"],["id","clientModal","tabindex","-1",1,"modal","fade",2,"display","block","width","40%"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],["type","text","placeholder","Rechercher un client...",1,"form-control","mb-3",3,"ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],["id","prestationModal","tabindex","-1",1,"modal","fade"],["type","text","placeholder","Rechercher une prestation...",1,"form-control","mb-3",3,"ngModelChange","ngModel"],["id","previewModal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"devis-preview","p-4"],[1,"row","mb-5"],[1,"mb-1"],["alt","Logo","height","130",3,"src",4,"ngIf"],[1,"client-box","p-3","border"],[1,"devis-info","text-end"],[1,"row","mb-4"],[1,"table-responsive","mb-4"],[1,"table","table-striped"],[1,"table-dark"],[2,"width","5%"],[2,"width","30%"],[1,"text-end",2,"width","10%"],[1,"text-end",2,"width","15%"],[1,"row","justify-content-end","mb-5"],[1,"col-4"],[1,"table","table-sm"],[1,"text-end"],[1,"table-active"],[1,"text-end","fw-bold"],[1,"row","mt-5"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bx","bx-file-pdf"],[3,"formGroupName"],["type","text","formControlName","designation",1,"form-control","form-control-sm"],["type","text","formControlName","description",1,"form-control","form-control-sm"],["type","number","formControlName","prixUnitaire",1,"form-control","form-control-sm",3,"input"],["type","number","formControlName","duree",1,"form-control","form-control-sm",3,"input"],["type","number","formControlName","prixTotal","readonly","",1,"form-control","form-control-sm"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],[1,"bx","bx-trash"],[1,"spinner-border","spinner-border-sm","ms-1"],[1,"card-header","d-flex","justify-content-between","align-items-center"],["type","button",1,"btn-close",3,"click"],[1,"card-body","preview-pane"],[1,"d-flex","justify-content-between","mb-4"],[1,"text-center","mb-4"],[1,"mb-4"],[1,"row","justify-content-end","mb-4"],[1,"d-flex","justify-content-between","mb-2"],[1,"d-flex","justify-content-between","fw-bold"],[4,"ngIf"],["alt","Logo","height","130",3,"src"],["class","text-muted small",4,"ngIf"],[1,"text-muted","small"],[1,"btn","btn-sm","btn-primary",3,"click"]],template:function(e,i){if(e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),s(7,"Nouveau devis"),n()(),o(8,"div",7)(9,"form",8),h("ngSubmit",function(){return i.onSubmit()}),o(10,"div",9)(11,"div",10)(12,"label",11),s(13,"R\xE9f\xE9rence"),n(),p(14,"input",12),n(),o(15,"div",10)(16,"label",11),s(17,"Nom du projet"),n(),p(18,"input",13),n()(),o(19,"div",9)(20,"div",14)(21,"label",11),s(22,"Description"),n(),p(23,"textarea",15),n()(),o(24,"div",9)(25,"div",16)(26,"label",11),s(27,"Client"),n(),o(28,"div",17),p(29,"input",18),o(30,"button",19),h("click",function(){return i.openClientModal()}),p(31,"i",20),s(32," S\xE9lectionner "),n()()(),o(33,"div",21)(34,"label",11),s(35,"Statut"),n(),o(36,"select",22)(37,"option",23),s(38,"Brouillon"),n()()()(),o(39,"div",9)(40,"div",10)(41,"label",24),s(42,"Date d'\xE9mission"),n(),p(43,"input",25),n(),o(44,"div",10)(45,"label",26),s(46,"Date d'\xE9ch\xE9ance"),n(),p(47,"input",27),n()(),o(48,"h5",28),s(49,"Prestations"),n(),o(50,"div",29)(51,"table",30)(52,"thead",31)(53,"tr")(54,"th"),s(55,"#"),n(),o(56,"th"),s(57,"D\xE9signation"),n(),o(58,"th"),s(59,"Description"),n(),o(60,"th"),s(61,"Prix unitaire"),n(),o(62,"th"),s(63,"Dur\xE9e/Qt\xE9"),n(),o(64,"th"),s(65,"Total"),n(),o(66,"th"),s(67,"Actions"),n()()(),o(68,"tbody",32),u(69,tn,16,2,"tr",33),n()()(),o(70,"div",34)(71,"button",35),h("click",function(){return i.addEmptyPrestation()}),p(72,"i",36),s(73," Ajouter prestation "),n(),o(74,"button",37),h("click",function(){return i.openPrestationModal()}),p(75,"i",38),s(76," Catalogue "),n()(),o(77,"div",9)(78,"div",10)(79,"div",34)(80,"label",11),s(81,"Notes"),n(),p(82,"textarea",39),n()(),o(83,"div",10)(84,"div",4)(85,"div",7)(86,"div",40)(87,"label",41),s(88,"Total HT"),n(),o(89,"div",42),s(90),n()(),o(91,"div",40)(92,"div",41)(93,"div",43)(94,"input",44),h("input",function(){return i.updateTotals()}),n(),o(95,"span",45),s(96,"% TVA"),n()()(),o(97,"div",42),s(98),n()(),o(99,"div",40)(100,"div",41)(101,"div",43)(102,"input",46),h("input",function(){return i.updateTotals()}),n(),o(103,"span",45),s(104,"% Remise"),n()()(),o(105,"div",42),s(106),n()(),p(107,"hr"),o(108,"div",47)(109,"label",41),s(110,"Total TTC"),n(),o(111,"div",42),s(112),n()()()()()(),o(113,"div",48)(114,"button",49),h("click",function(){return i.previewDevis()}),p(115,"i",50),s(116," Pr\xE9visualiser "),n(),o(117,"button",51),p(118,"i",52),s(119," Enregistrer "),u(120,nn,1,0,"span",53),n()()()()()(),u(121,ln,86,30,"div",54),n()()(),o(122,"div",55)(123,"div",56)(124,"div",57)(125,"div",58)(126,"h5",59),s(127,"S\xE9lectionner un client"),n(),p(128,"button",60),n(),o(129,"div",61)(130,"input",62),pe("ngModelChange",function(d){return me(i.searchTermClient,d)||(i.searchTermClient=d),d}),n(),o(131,"div",63)(132,"table",64)(133,"thead")(134,"tr")(135,"th"),s(136,"Nom"),n(),o(137,"th"),s(138,"Soci\xE9t\xE9"),n(),o(139,"th"),s(140,"Email"),n(),o(141,"th"),s(142,"Action"),n()()(),o(143,"tbody"),u(144,dn,10,3,"tr",65),n()()()()()()(),o(145,"div",66)(146,"div",56)(147,"div",57)(148,"div",58)(149,"h5",59),s(150,"Catalogue de prestations"),n(),p(151,"button",60),n(),o(152,"div",61)(153,"input",67),pe("ngModelChange",function(d){return me(i.searchTermPrestation,d)||(i.searchTermPrestation=d),d}),n(),o(154,"div",63)(155,"table",64)(156,"thead")(157,"tr")(158,"th"),s(159,"D\xE9signation"),n(),o(160,"th"),s(161,"Description"),n(),o(162,"th"),s(163,"Prix"),n(),o(164,"th"),s(165,"Action"),n()()(),o(166,"tbody"),u(167,cn,10,3,"tr",65),n()()()()()()(),o(168,"div",68)(169,"div",69)(170,"div",57)(171,"div",58)(172,"h5",59),s(173,"Pr\xE9visualisation du devis"),n(),p(174,"button",60),n(),o(175,"div",61)(176,"div",70)(177,"div",71)(178,"div",41)(179,"h3"),s(180),n(),o(181,"p",72),s(182),n(),o(183,"p",72),s(184),n(),o(185,"p",72),s(186),n(),o(187,"p"),s(188),n()(),o(189,"div",42),u(190,mn,1,1,"img",73),n()(),o(191,"div",71)(192,"div",41)(193,"div",74)(194,"h5"),s(195,"Client"),n(),o(196,"p",72)(197,"strong"),s(198),n()(),o(199,"p",72),s(200),n(),o(201,"p",72),s(202),n(),o(203,"p",72),s(204),n(),o(205,"p",72),s(206),n(),o(207,"p"),s(208),n()()(),o(209,"div",41)(210,"div",75)(211,"h1",34),s(212),n(),o(213,"p",72)(214,"strong"),s(215,"Projet:"),n(),s(216),n(),o(217,"p",72)(218,"strong"),s(219,"Date d'\xE9mission:"),n(),s(220),k(221,"date"),n(),o(222,"p")(223,"strong"),s(224,"Date d'\xE9ch\xE9ance:"),n(),s(225),k(226,"date"),n()()()(),o(227,"div",76)(228,"div",14)(229,"p"),s(230),n()()(),o(231,"div",77)(232,"table",78)(233,"thead",79)(234,"tr")(235,"th",80),s(236,"#"),n(),o(237,"th",81),s(238,"D\xE9signation"),n(),o(239,"th",81),s(240,"Description"),n(),o(241,"th",82),s(242,"PU HT"),n(),o(243,"th",82),s(244,"Qt\xE9"),n(),o(245,"th",83),s(246,"Total HT"),n()()(),o(247,"tbody"),u(248,pn,13,6,"tr",65),n()()(),o(249,"div",84)(250,"div",85)(251,"table",86)(252,"tr")(253,"th"),s(254,"Total HT"),n(),o(255,"td",87),s(256),n()(),o(257,"tr")(258,"th"),s(259),n(),o(260,"td",87),s(261),n()(),o(262,"tr")(263,"th"),s(264),n(),o(265,"td",87),s(266),n()(),o(267,"tr",88)(268,"th"),s(269,"Total TTC"),n(),o(270,"td",89),s(271),n()()()()(),o(272,"div",76)(273,"div",14)(274,"h6"),s(275,"Notes"),n(),o(276,"p"),s(277),n()()(),o(278,"div",90)(279,"div",41)(280,"p"),s(281,"Date et signature du client pr\xE9c\xE9d\xE9e de la mention"),p(282,"br"),s(283,"'Bon pour accord'"),n()(),o(284,"div",42)(285,"p"),s(286),n()()()()(),o(287,"div",91)(288,"button",92),s(289,"Fermer"),n(),o(290,"button",93),h("click",function(){return i.exportToPDF()}),p(291,"i",94),s(292," Exporter en PDF "),n()()()()()),e&2){let r,d,_,P,O,f,ve,q;l(9),c("formGroup",i.devisForm),l(20),c("value",(i.selectedClient==null?null:i.selectedClient.nom)||""),l(14),c("min",i.today)("value",i.today),l(4),c("min",i.todayPlusOneMonth)("value",i.todayPlusOneMonth),l(22),c("ngForOf",i.prestationsArray.controls),l(21),g("",i.totalHT," CFA"),l(8),g("",i.montantTVA," CFA"),l(8),g("-",i.montantRemise," CFA"),l(6),g("",i.totalTTC," CFA"),l(5),c("disabled",i.devisForm.invalid||i.loading),l(3),c("ngIf",i.loading),l(),c("ngIf",i.showPreview),l(9),ce("ngModel",i.searchTermClient),l(14),c("ngForOf",i.filteredClients),l(9),ce("ngModel",i.searchTermPrestation),l(14),c("ngForOf",i.filteredPrestations),l(13),v((i.companyProfile==null?null:i.companyProfile.companyName)||"Votre Entreprise"),l(2),v(i.companyProfile==null?null:i.companyProfile.address),l(2),Q("",i.companyProfile==null?null:i.companyProfile.postalCode," ",i.companyProfile==null?null:i.companyProfile.city,""),l(2),v(i.companyProfile==null?null:i.companyProfile.email),l(2),v(i.companyProfile==null?null:i.companyProfile.phoneNumber),l(2),c("ngIf",i.companyProfile==null?null:i.companyProfile.hasLogo),l(8),v(i.selectedClient==null?null:i.selectedClient.nom),l(2),v(i.selectedClient==null?null:i.selectedClient.societe),l(2),v(i.selectedClient==null?null:i.selectedClient.adresse),l(2),Q("",i.selectedClient==null?null:i.selectedClient.ville,", ",i.selectedClient==null?null:i.selectedClient.pays,""),l(2),g("TVA: ",i.selectedClient==null?null:i.selectedClient.numeroTVA,""),l(2),Q("",i.selectedClient==null?null:i.selectedClient.email," | ",i.selectedClient==null?null:i.selectedClient.telephone,""),l(4),g("Devis ",(r=i.devisForm.get("reference"))==null?null:r.value,""),l(4),g(" ",(d=i.devisForm.get("nomProjet"))==null?null:d.value,""),l(4),g(" ",M(221,47,(_=i.devisForm.get("dateEmission"))==null?null:_.value,"dd/MM/yyyy"),""),l(5),g(" ",M(226,50,(P=i.devisForm.get("dateEcheance"))==null?null:P.value,"dd/MM/yyyy"),""),l(5),v((O=i.devisForm.get("description"))==null?null:O.value),l(18),c("ngForOf",i.prestationsArray.value),l(8),g("",i.totalHT," CFA"),l(3),g("TVA (",(f=i.devisForm.get("tva"))==null?null:f.value,"%)"),l(2),g("",i.montantTVA," CFA"),l(3),g("Remise (",(ve=i.devisForm.get("remise"))==null?null:ve.value,"%)"),l(2),g("-",i.montantRemise," CFA"),l(5),g("",i.totalTTC," CFA"),l(6),v(((q=i.devisForm.get("notes"))==null?null:q.value)||"Aucune note"),l(9),v(i.companyProfile==null?null:i.companyProfile.companyName)}},dependencies:[fe,N,at,Ve,Re,Fe,rt,Le,Oe,ot,Ae,st,ct,lt,dt,Ie],encapsulation:2})};var vi=(()=>{class t extends pt{pathId;ngOnInit(){this.pathId="url(#"+B()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=V(t)))(r||t)}})();static \u0275cmp=F({type:t,selectors:[["WindowMaximizeIcon"]],features:[z],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Xe(),o(0,"svg",0)(1,"g"),p(2,"path",1),n(),o(3,"defs")(4,"clipPath",2),p(5,"rect",3),n()()()),i&2&&(A(r.getClassNames()),w("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),l(),w("clip-path",r.pathId),l(3),c("id",r.pathId))},encapsulation:2})}return t})();var bi=(()=>{class t extends pt{pathId;ngOnInit(){this.pathId="url(#"+B()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=V(t)))(r||t)}})();static \u0275cmp=F({type:t,selectors:[["WindowMinimizeIcon"]],features:[z],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Xe(),o(0,"svg",0)(1,"g"),p(2,"path",1),n(),o(3,"defs")(4,"clipPath",2),p(5,"rect",3),n()()()),i&2&&(A(r.getClassNames()),w("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),l(),w("clip-path",r.pathId),l(3),c("id",r.pathId))},encapsulation:2})}return t})();var xi=["container"],un=(t,a,e,i)=>({showTransformParams:t,hideTransformParams:a,showTransitionParams:e,hideTransitionParams:i}),fn=t=>({value:"visible",params:t}),gn=(t,a)=>({$implicit:t,closeFn:a}),_n=t=>({$implicit:t});function hn(t,a){t&1&&$(0)}function vn(t,a){if(t&1&&u(0,hn,1,0,"ng-container",3),t&2){let e=m();c("ngTemplateOutlet",e.headlessTemplate)("ngTemplateOutletContext",K(2,gn,e.message,e.onCloseIconClick))}}function bn(t,a){if(t&1&&p(0,"span",4),t&2){let e=m(3);c("ngClass",e.cx("messageIcon"))}}function xn(t,a){t&1&&p(0,"CheckIcon"),t&2&&w("aria-hidden",!0)("data-pc-section","icon")}function Cn(t,a){t&1&&p(0,"InfoCircleIcon"),t&2&&w("aria-hidden",!0)("data-pc-section","icon")}function yn(t,a){t&1&&p(0,"TimesCircleIcon"),t&2&&w("aria-hidden",!0)("data-pc-section","icon")}function Tn(t,a){t&1&&p(0,"ExclamationTriangleIcon"),t&2&&w("aria-hidden",!0)("data-pc-section","icon")}function En(t,a){t&1&&p(0,"InfoCircleIcon"),t&2&&w("aria-hidden",!0)("data-pc-section","icon")}function Sn(t,a){if(t&1&&(o(0,"span",4),u(1,xn,1,2,"CheckIcon")(2,Cn,1,2,"InfoCircleIcon")(3,yn,1,2,"TimesCircleIcon")(4,Tn,1,2,"ExclamationTriangleIcon")(5,En,1,2,"InfoCircleIcon"),n()),t&2){let e,i=m(3);c("ngClass",i.cx("messageIcon")),w("aria-hidden",!0)("data-pc-section","icon"),l(),R((e=i.message.severity)==="success"?1:e==="info"?2:e==="error"?3:e==="warn"?4:5)}}function In(t,a){if(t&1&&(le(0),u(1,bn,1,1,"span",6)(2,Sn,6,4,"span",6),o(3,"div",4)(4,"div",4),s(5),n(),o(6,"div",4),s(7),n()(),de()),t&2){let e=m(2);l(),c("ngIf",e.message.icon),l(),c("ngIf",!e.message.icon),l(),c("ngClass",e.cx("messageText")),w("data-pc-section","text"),l(),c("ngClass",e.cx("summary")),w("data-pc-section","summary"),l(),g(" ",e.message.summary," "),l(),c("ngClass",e.cx("detail")),w("data-pc-section","detail"),l(),v(e.message.detail)}}function wn(t,a){t&1&&$(0)}function Dn(t,a){if(t&1&&p(0,"span",4),t&2){let e=m(4);c("ngClass",e.cx("closeIcon"))}}function kn(t,a){if(t&1&&u(0,Dn,1,1,"span",6),t&2){let e=m(3);c("ngIf",e.message.closeIcon)}}function Mn(t,a){if(t&1&&p(0,"TimesIcon",4),t&2){let e=m(3);c("ngClass",e.cx("closeIcon")),w("aria-hidden",!0)("data-pc-section","closeicon")}}function Pn(t,a){if(t&1){let e=S();o(0,"div")(1,"button",7),h("click",function(r){x(e);let d=m(2);return C(d.onCloseIconClick(r))})("keydown.enter",function(r){x(e);let d=m(2);return C(d.onCloseIconClick(r))}),u(2,kn,1,1,"span",4)(3,Mn,1,3,"TimesIcon",4),n()()}if(t&2){let e=m(2);l(),c("ariaLabel",e.closeAriaLabel),w("class",e.cx("closeButton"))("data-pc-section","closebutton"),l(),R(e.message.closeIcon?2:3)}}function Fn(t,a){if(t&1&&(o(0,"div",4),u(1,In,8,10,"ng-container",5)(2,wn,1,0,"ng-container",3)(3,Pn,4,4,"div"),n()),t&2){let e=m();A(e.message==null?null:e.message.contentStyleClass),c("ngClass",e.cx("messageContent")),w("data-pc-section","content"),l(),c("ngIf",!e.template),l(),c("ngTemplateOutlet",e.template)("ngTemplateOutletContext",G(8,_n,e.message)),l(),R((e.message==null?null:e.message.closable)!==!1?3:-1)}}var On=["message"],An=["headless"];function Ln(t,a){if(t&1){let e=S();o(0,"p-toastItem",3),h("onClose",function(r){x(e);let d=m();return C(d.onMessageClose(r))})("@toastAnimation.start",function(r){x(e);let d=m();return C(d.onAnimationStart(r))})("@toastAnimation.done",function(r){x(e);let d=m();return C(d.onAnimationEnd(r))}),n()}if(t&2){let e=a.$implicit,i=a.index,r=m();c("message",e)("index",i)("life",r.life)("template",r.template||r._template)("headlessTemplate",r.headlessTemplate||r._headlessTemplate)("@toastAnimation",void 0)("showTransformOptions",r.showTransformOptions)("hideTransformOptions",r.hideTransformOptions)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}}var Vn=({dt:t})=>`
.p-toast {
    width: ${t("toast.width")};
    white-space: pre-line;
    word-break: break-word;
}

.p-toast-message {
    margin: 0 0 1rem 0;
}

.p-toast-message-icon {
    flex-shrink: 0;
    font-size: ${t("toast.icon.size")};
    width: ${t("toast.icon.size")};
    height: ${t("toast.icon.size")};
}

.p-toast-message-content {
    display: flex;
    align-items: flex-start;
    padding: ${t("toast.content.padding")};
    gap: ${t("toast.content.gap")};
}

.p-toast-message-text {
    flex: 1 1 auto;
    display: flex;
    flex-direction: column;
    gap: ${t("toast.text.gap")};
}

.p-toast-summary {
    font-weight: ${t("toast.summary.font.weight")};
    font-size: ${t("toast.summary.font.size")};
}

.p-toast-detail {
    font-weight: ${t("toast.detail.font.weight")};
    font-size: ${t("toast.detail.font.size")};
}

.p-toast-close-button {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    cursor: pointer;
    background: transparent;
    transition: background ${t("toast.transition.duration")}, color ${t("toast.transition.duration")}, outline-color ${t("toast.transition.duration")}, box-shadow ${t("toast.transition.duration")};
    outline-color: transparent;
    color: inherit;
    width: ${t("toast.close.button.width")};
    height: ${t("toast.close.button.height")};
    border-radius: ${t("toast.close.button.border.radius")};
    margin: -25% 0 0 0;
    right: -25%;
    padding: 0;
    border: none;
    user-select: none;
}

.p-toast-close-button:dir(rtl) {
    margin: -25% 0 0 auto;
    left: -25%;
    right: auto;
}

.p-toast-message-info,
.p-toast-message-success,
.p-toast-message-warn,
.p-toast-message-error,
.p-toast-message-secondary,
.p-toast-message-contrast {
    border-width: ${t("toast.border.width")};
    border-style: solid;
    backdrop-filter: blur(${t("toast.blur")});
    border-radius: ${t("toast.border.radius")};
}

.p-toast-close-icon {
    font-size: ${t("toast.close.icon.size")};
    width: ${t("toast.close.icon.size")};
    height: ${t("toast.close.icon.size")};
}

.p-toast-close-button:focus-visible {
    outline-width: ${t("focus.ring.width")};
    outline-style: ${t("focus.ring.style")};
    outline-offset: ${t("focus.ring.offset")};
}

.p-toast-message-info {
    background: ${t("toast.info.background")};
    border-color: ${t("toast.info.border.color")};
    color: ${t("toast.info.color")};
    box-shadow: ${t("toast.info.shadow")};
}

.p-toast-message-info .p-toast-detail {
    color: ${t("toast.info.detail.color")};
}

.p-toast-message-info .p-toast-close-button:focus-visible {
    outline-color: ${t("toast.info.close.button.focus.ring.color")};
    box-shadow: ${t("toast.info.close.button.focus.ring.shadow")};
}

.p-toast-message-info .p-toast-close-button:hover {
    background: ${t("toast.info.close.button.hover.background")};
}

.p-toast-message-success {
    background: ${t("toast.success.background")};
    border-color: ${t("toast.success.border.color")};
    color: ${t("toast.success.color")};
    box-shadow: ${t("toast.success.shadow")};
}

.p-toast-message-success .p-toast-detail {
    color: ${t("toast.success.detail.color")};
}

.p-toast-message-success .p-toast-close-button:focus-visible {
    outline-color: ${t("toast.success.close.button.focus.ring.color")};
    box-shadow: ${t("toast.success.close.button.focus.ring.shadow")};
}

.p-toast-message-success .p-toast-close-button:hover {
    background: ${t("toast.success.close.button.hover.background")};
}

.p-toast-message-warn {
    background: ${t("toast.warn.background")};
    border-color: ${t("toast.warn.border.color")};
    color: ${t("toast.warn.color")};
    box-shadow: ${t("toast.warn.shadow")};
}

.p-toast-message-warn .p-toast-detail {
    color: ${t("toast.warn.detail.color")};
}

.p-toast-message-warn .p-toast-close-button:focus-visible {
    outline-color: ${t("toast.warn.close.button.focus.ring.color")};
    box-shadow: ${t("toast.warn.close.button.focus.ring.shadow")};
}

.p-toast-message-warn .p-toast-close-button:hover {
    background: ${t("toast.warn.close.button.hover.background")};
}

.p-toast-message-error {
    background: ${t("toast.error.background")};
    border-color: ${t("toast.error.border.color")};
    color: ${t("toast.error.color")};
    box-shadow: ${t("toast.error.shadow")};
}

.p-toast-message-error .p-toast-detail {
    color: ${t("toast.error.detail.color")};
}

.p-toast-message-error .p-toast-close-button:focus-visible {
    outline-color: ${t("toast.error.close.button.focus.ring.color")};
    box-shadow: ${t("toast.error.close.button.focus.ring.shadow")};
}

.p-toast-message-error .p-toast-close-button:hover {
    background: ${t("toast.error.close.button.hover.background")};
}

.p-toast-message-secondary {
    background: ${t("toast.secondary.background")};
    border-color: ${t("toast.secondary.border.color")};
    color: ${t("toast.secondary.color")};
    box-shadow: ${t("toast.secondary.shadow")};
}

.p-toast-message-secondary .p-toast-detail {
    color: ${t("toast.secondary.detail.color")};
}

.p-toast-message-secondary .p-toast-close-button:focus-visible {
    outline-color: ${t("toast.secondary.close.button.focus.ring.color")};
    box-shadow: ${t("toast.secondary.close.button.focus.ring.shadow")};
}

.p-toast-message-secondary .p-toast-close-button:hover {
    background: ${t("toast.secondary.close.button.hover.background")};
}

.p-toast-message-contrast {
    background: ${t("toast.contrast.background")};
    border-color: ${t("toast.contrast.border.color")};
    color: ${t("toast.contrast.color")};
    box-shadow: ${t("toast.contrast.shadow")};
}

.p-toast-message-contrast .p-toast-detail {
    color: ${t("toast.contrast.detail.color")};
}

.p-toast-message-contrast .p-toast-close-button:focus-visible {
    outline-color: ${t("toast.contrast.close.button.focus.ring.color")};
    box-shadow: ${t("toast.contrast.close.button.focus.ring.shadow")};
}

.p-toast-message-contrast .p-toast-close-button:hover {
    background: ${t("toast.contrast.close.button.hover.background")};
}

.p-toast-top-center {
    transform: translateX(-50%);
}

.p-toast-bottom-center {
    transform: translateX(-50%);
}

.p-toast-center {
    min-width: 20vw;
    transform: translate(-50%, -50%);
}

.p-toast-message-enter-from {
    opacity: 0;
    transform: translateY(50%);
}

.p-toast-message-leave-from {
    max-height: 1000px;
}

.p-toast .p-toast-message.p-toast-message-leave-to {
    max-height: 0;
    opacity: 0;
    margin-bottom: 0;
    overflow: hidden;
}

.p-toast-message-enter-active {
    transition: transform 0.3s, opacity 0.3s;
}

.p-toast-message-leave-active {
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1), opacity 0.3s, margin-bottom 0.3s;
}
`,Rn={root:({instance:t})=>{let{_position:a}=t;return{position:"fixed",top:a==="top-right"||a==="top-left"||a==="top-center"?"20px":a==="center"?"50%":null,right:(a==="top-right"||a==="bottom-right")&&"20px",bottom:(a==="bottom-left"||a==="bottom-right"||a==="bottom-center")&&"20px",left:a==="top-left"||a==="bottom-left"?"20px":a==="center"||a==="top-center"||a==="bottom-center"?"50%":null}}},zn={root:({instance:t})=>({"p-toast p-component":!0,[`p-toast-${t._position}`]:!!t._position}),message:({instance:t})=>({"p-toast-message":!0,"p-toast-message-info":t.message.severity==="info"||t.message.severity===void 0,"p-toast-message-warn":t.message.severity==="warn","p-toast-message-error":t.message.severity==="error","p-toast-message-success":t.message.severity==="success","p-toast-message-secondary":t.message.severity==="secondary","p-toast-message-contrast":t.message.severity==="contrast"}),messageContent:"p-toast-message-content",messageIcon:({instance:t})=>({"p-toast-message-icon":!0,[`pi ${t.message.icon}`]:!!t.message.icon}),messageText:"p-toast-message-text",summary:"p-toast-summary",detail:"p-toast-detail",closeButton:"p-toast-close-button",closeIcon:({instance:t})=>({"p-toast-close-icon":!0,[`pi ${t.message.closeIcon}`]:!!t.message.closeIcon})},xt=(()=>{class t extends je{name="toast";theme=Vn;classes=zn;inlineStyles=Rn;static \u0275fac=(()=>{let e;return function(r){return(e||(e=V(t)))(r||t)}})();static \u0275prov=se({token:t,factory:t.\u0275fac})}return t})();var jn=(()=>{class t extends ae{zone;message;index;life;template;headlessTemplate;showTransformOptions;hideTransformOptions;showTransitionOptions;hideTransitionOptions;onClose=new L;containerViewChild;_componentStyle=j(xt);timeout;constructor(e){super(),this.zone=e}ngAfterViewInit(){super.ngAfterViewInit(),this.initTimeout()}initTimeout(){this.message?.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message?.life||this.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick=e=>{this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()};get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.clearTimeout(),super.ngOnDestroy()}static \u0275fac=function(i){return new(i||t)(I(Te))};static \u0275cmp=F({type:t,selectors:[["p-toastItem"]],viewQuery:function(i,r){if(i&1&&xe(xi,5),i&2){let d;T(d=E())&&(r.containerViewChild=d.first)}},inputs:{message:"message",index:[2,"index","index",Z],life:[2,"life","life",Z],template:"template",headlessTemplate:"headlessTemplate",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},features:[te([xt]),z],decls:4,vars:15,consts:[["container",""],["role","alert","aria-live","assertive","aria-atomic","true",3,"mouseenter","mouseleave","ngClass"],[3,"ngClass","class"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],[4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","button","autofocus","",3,"click","keydown.enter","ariaLabel"]],template:function(i,r){if(i&1){let d=S();o(0,"div",1,0),h("mouseenter",function(){return x(d),C(r.onMouseEnter())})("mouseleave",function(){return x(d),C(r.onMouseLeave())}),u(2,vn,1,5,"ng-container")(3,Fn,4,10,"div",2),n()}i&2&&(A(r.message==null?null:r.message.styleClass),c("ngClass",r.cx("message"))("@messageState",G(13,fn,He(8,un,r.showTransformOptions,r.hideTransformOptions,r.showTransitionOptions,r.hideTransitionOptions))),w("id",r.message==null?null:r.message.id)("data-pc-name","toast")("data-pc-section","root"),l(2),R(r.headlessTemplate?2:3))},dependencies:[ne,ie,N,Se,mi,pi,ui,ut,fi,Y],encapsulation:2,data:{animation:[Ce("messageState",[Wt("visible",W({transform:"translateY(0)",opacity:1})),ee("void => *",[W({transform:"{{showTransformParams}}",opacity:0}),oe("{{showTransitionParams}}")]),ee("* => void",[oe("{{hideTransitionParams}}",W({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0})}return t})(),Lt=(()=>{class t extends ae{key;autoZIndex=!0;baseZIndex=0;life=3e3;style;styleClass;get position(){return this._position}set position(e){this._position=e,this.cd.markForCheck()}preventOpenDuplicates=!1;preventDuplicates=!1;showTransformOptions="translateY(100%)";hideTransformOptions="translateY(-100%)";showTransitionOptions="300ms ease-out";hideTransitionOptions="250ms ease-in";breakpoints;onClose=new L;template;headlessTemplate;containerViewChild;messageSubscription;clearSubscription;messages;messagesArchieve;_position="top-right";messageService=j(_e);_componentStyle=j(xt);styleElement;id=B("pn_id_");templates;ngOnInit(){super.ngOnInit(),this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(Array.isArray(e)){let i=e.filter(r=>this.canAdd(r));this.add(i)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}_template;_headlessTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"message":this._template=e.template;break;case"headless":this._headlessTemplate=e.template;break;default:this._template=e.template;break}})}ngAfterViewInit(){super.ngAfterViewInit(),this.breakpoints&&this.createStyle()}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let i=this.key===e.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,e)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,e)),i}containsMessage(e,i){return e?e.find(r=>r.summary===i.summary&&r.detail==i.detail&&r.severity===i.severity)!=null:!1}onMessageClose(e){this.messages?.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}onAnimationStart(e){e.fromState==="void"&&(this.renderer.setAttribute(this.containerViewChild?.nativeElement,this.id,""),this.autoZIndex&&this.containerViewChild?.nativeElement.style.zIndex===""&&ye.set("modal",this.containerViewChild?.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(e){e.toState==="void"&&this.autoZIndex&&ii(this.messages)&&ye.clear(this.containerViewChild?.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",this.renderer.appendChild(this.document.head,this.styleElement);let e="";for(let i in this.breakpoints){let r="";for(let d in this.breakpoints[i])r+=d+":"+this.breakpoints[i][d]+" !important;";e+=`
                    @media screen and (max-width: ${i}) {
                        .p-toast[${this.id}] {
                           ${r}
                        }
                    }
                `}this.renderer.setProperty(this.styleElement,"innerHTML",e),ke(this.styleElement,"nonce",this.config?.csp()?.nonce)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&ye.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle(),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=V(t)))(r||t)}})();static \u0275cmp=F({type:t,selectors:[["p-toast"]],contentQueries:function(i,r,d){if(i&1&&(D(d,On,5),D(d,An,5),D(d,Pe,4)),i&2){let _;T(_=E())&&(r.template=_.first),T(_=E())&&(r.headlessTemplate=_.first),T(_=E())&&(r.templates=_)}},viewQuery:function(i,r){if(i&1&&xe(xi,5),i&2){let d;T(d=E())&&(r.containerViewChild=d.first)}},inputs:{key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",y],baseZIndex:[2,"baseZIndex","baseZIndex",Z],life:[2,"life","life",Z],style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:[2,"preventOpenDuplicates","preventOpenDuplicates",y],preventDuplicates:[2,"preventDuplicates","preventDuplicates",y],showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},features:[te([xt]),z],decls:3,vars:7,consts:[["container",""],[3,"ngClass","ngStyle"],[3,"message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"onClose","message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions"]],template:function(i,r){i&1&&(o(0,"div",1,0),u(2,Ln,1,10,"p-toastItem",2),n()),i&2&&(be(r.style),A(r.styleClass),c("ngClass",r.cx("root"))("ngStyle",r.sx("root")),l(2),c("ngForOf",r.messages))},dependencies:[ne,ie,fe,et,jn,Y],encapsulation:2,data:{animation:[Ce("toastAnimation",[ee(":enter, :leave",[Xt("@*",Yt())])])]},changeDetection:0})}return t})(),Ci=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=J({type:t});static \u0275inj=X({imports:[Lt,Y,Y]})}return t})();var yi=(()=>{class t extends ae{pFocusTrapDisabled=!1;platformId=j($t);document=j(qt);firstHiddenFocusableElement;lastHiddenFocusableElement;ngOnInit(){super.ngOnInit(),Ue(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}ngOnChanges(e){super.ngOnChanges(e),e.pFocusTrapDisabled&&Ue(this.platformId)&&(e.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(e){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${e??""}`}createHiddenFocusableElements(){let e="0",i=r=>Kt("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:e,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:r?.bind(this)});this.firstHiddenFocusableElement=i(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=i(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.el.nativeElement.prepend(this.firstHiddenFocusableElement),this.el.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(e){let{currentTarget:i,relatedTarget:r}=e,d=r===this.lastHiddenFocusableElement||!this.el.nativeElement?.contains(r)?ei(i.parentElement,":not(.p-hidden-focusable)"):this.lastHiddenFocusableElement;Pt(d)}onLastHiddenElementFocus(e){let{currentTarget:i,relatedTarget:r}=e,d=r===this.firstHiddenFocusableElement||!this.el.nativeElement?.contains(r)?ti(i.parentElement,":not(.p-hidden-focusable)"):this.firstHiddenFocusableElement;Pt(d)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=V(t)))(r||t)}})();static \u0275dir=Bt({type:t,selectors:[["","pFocusTrap",""]],inputs:{pFocusTrapDisabled:[2,"pFocusTrapDisabled","pFocusTrapDisabled",y]},features:[z,jt]})}return t})();var Nn=["header"],Ti=["content"],Ei=["footer"],Bn=["closeicon"],Hn=["maximizeicon"],Un=["minimizeicon"],qn=["headless"],Qn=["titlebar"],Gn=["*",[["p-footer"]]],Zn=["*","p-footer"],Wn=(t,a,e)=>({position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex","justify-content":t,"align-items":a,"pointer-events":e}),Yn=t=>({"p-dialog p-component":!0,"p-dialog-maximized":t}),Xn=()=>({display:"flex","flex-direction":"column","pointer-events":"auto"}),Jn=(t,a)=>({transform:t,transition:a}),Kn=t=>({value:"visible",params:t});function eo(t,a){t&1&&$(0)}function to(t,a){if(t&1&&(le(0),u(1,eo,1,0,"ng-container",11),de()),t&2){let e=m(3);l(),c("ngTemplateOutlet",e._headlessTemplate||e.headlessTemplate||e.headlessT)}}function io(t,a){if(t&1){let e=S();o(0,"div",15),h("mousedown",function(r){x(e);let d=m(4);return C(d.initResize(r))}),n()}if(t&2){let e=m(4);c("ngClass",e.cx("resizeHandle"))}}function no(t,a){if(t&1&&(o(0,"span",21),s(1),n()),t&2){let e=m(5);c("id",e.ariaLabelledBy)("ngClass",e.cx("title")),l(),v(e.header)}}function oo(t,a){t&1&&$(0)}function ao(t,a){if(t&1&&p(0,"span",18),t&2){let e=m(6);c("ngClass",e.maximized?e.minimizeIcon:e.maximizeIcon)}}function ro(t,a){t&1&&p(0,"WindowMaximizeIcon")}function so(t,a){t&1&&p(0,"WindowMinimizeIcon")}function lo(t,a){if(t&1&&(le(0),u(1,ro,1,0,"WindowMaximizeIcon",23)(2,so,1,0,"WindowMinimizeIcon",23),de()),t&2){let e=m(6);l(),c("ngIf",!e.maximized&&!e._maximizeiconTemplate&&!e.maximizeIconTemplate&&!e.maximizeIconT),l(),c("ngIf",e.maximized&&!e._minimizeiconTemplate&&!e.minimizeIconTemplate&&!e.minimizeIconT)}}function co(t,a){}function mo(t,a){t&1&&u(0,co,0,0,"ng-template")}function po(t,a){if(t&1&&(le(0),u(1,mo,1,0,null,11),de()),t&2){let e=m(6);l(),c("ngTemplateOutlet",e._maximizeiconTemplate||e.maximizeIconTemplate||e.maximizeIconT)}}function uo(t,a){}function fo(t,a){t&1&&u(0,uo,0,0,"ng-template")}function go(t,a){if(t&1&&(le(0),u(1,fo,1,0,null,11),de()),t&2){let e=m(6);l(),c("ngTemplateOutlet",e._minimizeiconTemplate||e.minimizeIconTemplate||e.minimizeIconT)}}function _o(t,a){if(t&1){let e=S();o(0,"p-button",22),h("onClick",function(){x(e);let r=m(5);return C(r.maximize())})("keydown.enter",function(){x(e);let r=m(5);return C(r.maximize())}),u(1,ao,1,1,"span",14)(2,lo,3,2,"ng-container",23)(3,po,2,1,"ng-container",23)(4,go,2,1,"ng-container",23),n()}if(t&2){let e=m(5);c("styleClass",e.cx("pcMaximizeButton"))("tabindex",e.maximizable?"0":"-1")("ariaLabel",e.maximizeLabel)("buttonProps",e.maximizeButtonProps),l(),c("ngIf",e.maximizeIcon&&!e._maximizeiconTemplate&&!e._minimizeiconTemplate),l(),c("ngIf",!e.maximizeIcon&&!(e.maximizeButtonProps!=null&&e.maximizeButtonProps.icon)),l(),c("ngIf",!e.maximized),l(),c("ngIf",e.maximized)}}function ho(t,a){if(t&1&&p(0,"span",18),t&2){let e=m(8);c("ngClass",e.closeIcon)}}function vo(t,a){t&1&&p(0,"TimesIcon")}function bo(t,a){if(t&1&&(le(0),u(1,ho,1,1,"span",14)(2,vo,1,0,"TimesIcon",23),de()),t&2){let e=m(7);l(),c("ngIf",e.closeIcon),l(),c("ngIf",!e.closeIcon)}}function xo(t,a){}function Co(t,a){t&1&&u(0,xo,0,0,"ng-template")}function yo(t,a){if(t&1&&(o(0,"span"),u(1,Co,1,0,null,11),n()),t&2){let e=m(7);l(),c("ngTemplateOutlet",e._closeiconTemplate||e.closeIconTemplate||e.closeIconT)}}function To(t,a){if(t&1&&u(0,bo,3,2,"ng-container",23)(1,yo,2,1,"span",23),t&2){let e=m(6);c("ngIf",!e._closeiconTemplate&&!e.closeIconTemplate&&!e.closeIconT&&!(e.closeButtonProps!=null&&e.closeButtonProps.icon)),l(),c("ngIf",e._closeiconTemplate||e.closeIconTemplate||e.closeIconT)}}function Eo(t,a){if(t&1){let e=S();o(0,"p-button",24),h("onClick",function(r){x(e);let d=m(5);return C(d.close(r))})("keydown.enter",function(r){x(e);let d=m(5);return C(d.close(r))}),u(1,To,2,2,"ng-template",null,4,ue),n()}if(t&2){let e=m(5);c("styleClass",e.cx("pcCloseButton"))("ariaLabel",e.closeAriaLabel)("tabindex",e.closeTabindex)("buttonProps",e.closeButtonProps)}}function So(t,a){if(t&1){let e=S();o(0,"div",16,3),h("mousedown",function(r){x(e);let d=m(4);return C(d.initDrag(r))}),u(2,no,2,3,"span",17)(3,oo,1,0,"ng-container",11),o(4,"div",18),u(5,_o,5,8,"p-button",19)(6,Eo,3,4,"p-button",20),n()()}if(t&2){let e=m(4);c("ngClass",e.cx("header")),l(2),c("ngIf",!e._headerTemplate&&!e.headerTemplate&&!e.headerT),l(),c("ngTemplateOutlet",e._headerTemplate||e.headerTemplate||e.headerT),l(),c("ngClass",e.cx("headerActions")),l(),c("ngIf",e.maximizable),l(),c("ngIf",e.closable)}}function Io(t,a){t&1&&$(0)}function wo(t,a){t&1&&$(0)}function Do(t,a){if(t&1&&(o(0,"div",18,5),Be(2,1),u(3,wo,1,0,"ng-container",11),n()),t&2){let e=m(4);c("ngClass",e.cx("footer")),l(3),c("ngTemplateOutlet",e._footerTemplate||e.footerTemplate||e.footerT)}}function ko(t,a){if(t&1&&(u(0,io,1,1,"div",12)(1,So,7,6,"div",13),o(2,"div",7,2),Be(4),u(5,Io,1,0,"ng-container",11),n(),u(6,Do,4,2,"div",14)),t&2){let e=m(3);c("ngIf",e.resizable),l(),c("ngIf",e.showHeader),l(),A(e.contentStyleClass),c("ngClass",e.cx("content"))("ngStyle",e.contentStyle),w("data-pc-section","content"),l(3),c("ngTemplateOutlet",e._contentTemplate||e.contentTemplate||e.contentT),l(),c("ngIf",e._footerTemplate||e.footerTemplate||e.footerT)}}function Mo(t,a){if(t&1){let e=S();o(0,"div",9,0),h("@animation.start",function(r){x(e);let d=m(2);return C(d.onAnimationStart(r))})("@animation.done",function(r){x(e);let d=m(2);return C(d.onAnimationEnd(r))}),u(2,to,2,1,"ng-container",10)(3,ko,7,9,"ng-template",null,1,ue),n()}if(t&2){let e=Ht(4),i=m(2);be(i.style),A(i.styleClass),c("ngClass",G(13,Yn,i.maximizable&&i.maximized))("ngStyle",Ee(15,Xn))("pFocusTrapDisabled",i.focusTrap===!1)("@animation",G(19,Kn,K(16,Jn,i.transformOptions,i.transitionOptions))),w("role",i.role)("aria-labelledby",i.ariaLabelledBy)("aria-modal",!0),l(2),c("ngIf",i._headlessTemplate||i.headlessTemplate||i.headlessT)("ngIfElse",e)}}function Po(t,a){if(t&1&&(o(0,"div",7),u(1,Mo,5,21,"div",8),n()),t&2){let e=m();be(e.maskStyle),A(e.maskStyleClass),c("ngClass",e.maskClass)("ngStyle",Ke(7,Wn,e.position==="left"||e.position==="topleft"||e.position==="bottomleft"?"flex-start":e.position==="right"||e.position==="topright"||e.position==="bottomright"?"flex-end":"center",e.position==="top"||e.position==="topleft"||e.position==="topright"?"flex-start":e.position==="bottom"||e.position==="bottomleft"||e.position==="bottomright"?"flex-end":"center",e.modal?"auto":"none")),l(),c("ngIf",e.visible)}}var Fo=({dt:t})=>`
.p-dialog {
    max-height: 90%;
    transform: scale(1);
    border-radius: ${t("dialog.border.radius")};
    box-shadow: ${t("dialog.shadow")};
    background: ${t("dialog.background")};
    border: 1px solid ${t("dialog.border.color")};
    color: ${t("dialog.color")};
    display: flex;
    flex-direction: column;
    pointer-events: auto
}

.p-dialog-content {
    overflow-y: auto;
    padding: ${t("dialog.content.padding")};
    flex-grow: 1;
}

.p-dialog-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-shrink: 0;
    padding: ${t("dialog.header.padding")};
}

.p-dialog-title {
    font-weight: ${t("dialog.title.font.weight")};
    font-size: ${t("dialog.title.font.size")};
}

.p-dialog-footer {
    flex-shrink: 0;
    padding: ${t("dialog.footer.padding")};
    display: flex;
    justify-content: flex-end;
    gap: ${t("dialog.footer.gap")};
}

.p-dialog-header-actions {
    display: flex;
    align-items: center;
    gap: ${t("dialog.header.gap")};
}

.p-dialog-enter-active {
    transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
}

.p-dialog-leave-active {
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
}

.p-dialog-enter-from,
.p-dialog-leave-to {
    opacity: 0;
    transform: scale(0.7);
}

.p-dialog-top .p-dialog,
.p-dialog-bottom .p-dialog,
.p-dialog-left .p-dialog,
.p-dialog-right .p-dialog,
.p-dialog-topleft .p-dialog,
.p-dialog-topright .p-dialog,
.p-dialog-bottomleft .p-dialog,
.p-dialog-bottomright .p-dialog {
    margin: 0.75rem;
    transform: translate3d(0px, 0px, 0px);
}

.p-dialog-top .p-dialog-enter-active,
.p-dialog-top .p-dialog-leave-active,
.p-dialog-bottom .p-dialog-enter-active,
.p-dialog-bottom .p-dialog-leave-active,
.p-dialog-left .p-dialog-enter-active,
.p-dialog-left .p-dialog-leave-active,
.p-dialog-right .p-dialog-enter-active,
.p-dialog-right .p-dialog-leave-active,
.p-dialog-topleft .p-dialog-enter-active,
.p-dialog-topleft .p-dialog-leave-active,
.p-dialog-topright .p-dialog-enter-active,
.p-dialog-topright .p-dialog-leave-active,
.p-dialog-bottomleft .p-dialog-enter-active,
.p-dialog-bottomleft .p-dialog-leave-active,
.p-dialog-bottomright .p-dialog-enter-active,
.p-dialog-bottomright .p-dialog-leave-active {
    transition: all 0.3s ease-out;
}

.p-dialog-top .p-dialog-enter-from,
.p-dialog-top .p-dialog-leave-to {
    transform: translate3d(0px, -100%, 0px);
}

.p-dialog-bottom .p-dialog-enter-from,
.p-dialog-bottom .p-dialog-leave-to {
    transform: translate3d(0px, 100%, 0px);
}

.p-dialog-left .p-dialog-enter-from,
.p-dialog-left .p-dialog-leave-to,
.p-dialog-topleft .p-dialog-enter-from,
.p-dialog-topleft .p-dialog-leave-to,
.p-dialog-bottomleft .p-dialog-enter-from,
.p-dialog-bottomleft .p-dialog-leave-to {
    transform: translate3d(-100%, 0px, 0px);
}

.p-dialog-right .p-dialog-enter-from,
.p-dialog-right .p-dialog-leave-to,
.p-dialog-topright .p-dialog-enter-from,
.p-dialog-topright .p-dialog-leave-to,
.p-dialog-bottomright .p-dialog-enter-from,
.p-dialog-bottomright .p-dialog-leave-to {
    transform: translate3d(100%, 0px, 0px);
}

.p-dialog-left:dir(rtl) .p-dialog-enter-from,
.p-dialog-left:dir(rtl) .p-dialog-leave-to,
.p-dialog-topleft:dir(rtl) .p-dialog-enter-from,
.p-dialog-topleft:dir(rtl) .p-dialog-leave-to,
.p-dialog-bottomleft:dir(rtl) .p-dialog-enter-from,
.p-dialog-bottomleft:dir(rtl) .p-dialog-leave-to {
    transform: translate3d(100%, 0px, 0px);
}

.p-dialog-right:dir(rtl) .p-dialog-enter-from,
.p-dialog-right:dir(rtl) .p-dialog-leave-to,
.p-dialog-topright:dir(rtl) .p-dialog-enter-from,
.p-dialog-topright:dir(rtl) .p-dialog-leave-to,
.p-dialog-bottomright:dir(rtl) .p-dialog-enter-from,
.p-dialog-bottomright:dir(rtl) .p-dialog-leave-to {
    transform: translate3d(-100%, 0px, 0px);
}

.p-dialog-maximized {
    width: 100vw !important;
    height: 100vh !important;
    top: 0px !important;
    left: 0px !important;
    max-height: 100%;
    height: 100%;
    border-radius: 0;
}

.p-dialog-maximized .p-dialog-content {
    flex-grow: 1;
}

.p-overlay-mask:dir(rtl) {
    flex-direction: row-reverse;
}

/* For PrimeNG */

.p-dialog .p-resizable-handle {
    position: absolute;
    font-size: 0.1px;
    display: block;
    cursor: se-resize;
    width: 12px;
    height: 12px;
    right: 1px;
    bottom: 1px;
}

.p-confirm-dialog .p-dialog-content {
    display: flex;
    align-items: center;
}
`,Oo={mask:({instance:t})=>({position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex",justifyContent:t.position==="left"||t.position==="topleft"||t.position==="bottomleft"?"flex-start":t.position==="right"||t.position==="topright"||t.position==="bottomright"?"flex-end":"center",alignItems:t.position==="top"||t.position==="topleft"||t.position==="topright"?"flex-start":t.position==="bottom"||t.position==="bottomleft"||t.position==="bottomright"?"flex-end":"center",pointerEvents:t.modal?"auto":"none"}),root:{display:"flex",flexDirection:"column",pointerEvents:"auto"}},Ao={mask:({instance:t})=>{let e=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"].find(i=>i===t.position);return{"p-dialog-mask":!0,"p-overlay-mask p-overlay-mask-enter":t.modal,[`p-dialog-${e}`]:e}},root:({instance:t})=>({"p-dialog p-component":!0,"p-dialog-maximized":t.maximizable&&t.maximized}),header:"p-dialog-header",title:"p-dialog-title",resizeHandle:"p-resizable-handle",headerActions:"p-dialog-header-actions",pcMaximizeButton:"p-dialog-maximize-button",pcCloseButton:"p-dialog-close-button",content:"p-dialog-content",footer:"p-dialog-footer"},Si=(()=>{class t extends je{name="dialog";theme=Fo;classes=Ao;inlineStyles=Oo;static \u0275fac=(()=>{let e;return function(r){return(e||(e=V(t)))(r||t)}})();static \u0275prov=se({token:t,factory:t.\u0275fac})}return t})();var Lo=we([W({transform:"{{transform}}",opacity:0}),oe("{{transition}}")]),Vo=we([oe("{{transition}}",W({transform:"{{transform}}",opacity:0}))]),Ii=(()=>{class t extends ae{header;draggable=!0;resizable=!0;get positionLeft(){return 0}set positionLeft(e){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(e){console.log("positionTop property is deprecated.")}contentStyle;contentStyleClass;modal=!1;closeOnEscape=!0;dismissableMask=!1;rtl=!1;closable=!0;get responsive(){return!1}set responsive(e){console.log("Responsive property is deprecated.")}appendTo;breakpoints;styleClass;maskStyleClass;maskStyle;showHeader=!0;get breakpoint(){return 649}set breakpoint(e){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}blockScroll=!1;autoZIndex=!0;baseZIndex=0;minX=0;minY=0;focusOnShow=!0;maximizable=!1;keepInViewport=!0;focusTrap=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";closeIcon;closeAriaLabel;closeTabindex="0";minimizeIcon;maximizeIcon;closeButtonProps={severity:"secondary",text:!0,rounded:!0};maximizeButtonProps={severity:"secondary",text:!0,rounded:!0};get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(e){e&&(this._style=Et({},e),this.originalStyle=e)}get position(){return this._position}set position(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}role="dialog";onShow=new L;onHide=new L;visibleChange=new L;onResizeInit=new L;onResizeEnd=new L;onDragEnd=new L;onMaximize=new L;headerViewChild;contentViewChild;footerViewChild;headerTemplate;contentTemplate;footerTemplate;closeIconTemplate;maximizeIconTemplate;minimizeIconTemplate;headlessTemplate;_headerTemplate;_contentTemplate;_footerTemplate;_closeiconTemplate;_maximizeiconTemplate;_minimizeiconTemplate;_headlessTemplate;_visible=!1;maskVisible;container;wrapper;dragging;ariaLabelledBy=this.getAriaLabelledBy();documentDragListener;documentDragEndListener;resizing;documentResizeListener;documentResizeEndListener;documentEscapeListener;maskClickListener;lastPageX;lastPageY;preventVisibleChangePropagation;maximized;preMaximizeContentHeight;preMaximizeContainerWidth;preMaximizeContainerHeight;preMaximizePageX;preMaximizePageY;id=B("pn_id_");_style={};_position="center";originalStyle;transformOptions="scale(0.7)";styleElement;window;_componentStyle=j(Si);headerT;contentT;footerT;closeIconT;maximizeIconT;minimizeIconT;headlessT;get maximizeLabel(){return this.config.getTranslation(Ge.ARIA).maximizeLabel}zone=j(Te);get maskClass(){let i=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"].find(r=>r===this.position);return{"p-dialog-mask":!0,"p-overlay-mask p-overlay-mask-enter":this.modal||this.dismissableMask,[`p-dialog-${i}`]:i}}ngOnInit(){super.ngOnInit(),this.breakpoints&&this.createStyle()}templates;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this.headerT=e.template;break;case"content":this.contentT=e.template;break;case"footer":this.footerT=e.template;break;case"closeicon":this.closeIconT=e.template;break;case"maximizeicon":this.maximizeIconT=e.template;break;case"minimizeicon":this.minimizeIconT=e.template;break;case"headless":this.headlessT=e.template;break;default:this.contentT=e.template;break}})}getAriaLabelledBy(){return this.header!==null?B("pn_id_")+"_header":null}parseDurationToMilliseconds(e){let i=/([\d\.]+)(ms|s)\b/g,r=0,d;for(;(d=i.exec(e))!==null;){let _=parseFloat(d[1]),P=d[2];P==="ms"?r+=_:P==="s"&&(r+=_*1e3)}if(r!==0)return r}_focus(e){if(e){let i=this.parseDurationToMilliseconds(this.transitionOptions),r=ci.getFocusableElements(e);if(r&&r.length>0)return this.zone.runOutsideAngular(()=>{setTimeout(()=>r[0].focus(),i||5)}),!0}return!1}focus(e){let i=this._focus(e);i||(i=this._focus(this.footerViewChild?.nativeElement),i||(i=this._focus(this.headerViewChild?.nativeElement),i||this._focus(this.contentViewChild?.nativeElement)))}close(e){this.visibleChange.emit(!1),e.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)})),this.modal&&wt()}disableModality(){if(this.wrapper){this.dismissableMask&&this.unbindMaskClickListener();let e=document.querySelectorAll(".p-dialog-mask-scrollblocker");this.modal&&e&&e.length==1&&Dt(),this.cd.destroyed||this.cd.detectChanges()}}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?wt():Dt()),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(ye.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(Ue(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",this.renderer.appendChild(this.document.head,this.styleElement);let e="";for(let i in this.breakpoints)e+=`
                        @media screen and (max-width: ${i}) {
                            .p-dialog[${this.id}]:not(.p-dialog-maximized) {
                                width: ${this.breakpoints[i]} !important;
                            }
                        }
                    `;this.renderer.setProperty(this.styleElement,"innerHTML",e),ke(this.styleElement,"nonce",this.config?.csp()?.nonce)}}initDrag(e){qe(e.target,"p-dialog-maximize-icon")||qe(e.target,"p-dialog-header-close-icon")||qe(e.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",tt(this.document.body,"p-unselectable-text"))}onDrag(e){if(this.dragging){let i=Mt(this.container),r=nt(this.container),d=e.pageX-this.lastPageX,_=e.pageY-this.lastPageY,P=this.container.getBoundingClientRect(),O=getComputedStyle(this.container),f=parseFloat(O.marginLeft),ve=parseFloat(O.marginTop),q=P.left+d-f,re=P.top+_-ve,$e=kt();this.container.style.position="fixed",this.keepInViewport?(q>=this.minX&&q+i<$e.width&&(this._style.left=`${q}px`,this.lastPageX=e.pageX,this.container.style.left=`${q}px`),re>=this.minY&&re+r<$e.height&&(this._style.top=`${re}px`,this.lastPageY=e.pageY,this.container.style.top=`${re}px`)):(this.lastPageX=e.pageX,this.container.style.left=`${q}px`,this.lastPageY=e.pageY,this.container.style.top=`${re}px`)}}endDrag(e){this.dragging&&(this.dragging=!1,it(this.document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(e))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(e){this.resizable&&(this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,tt(this.document.body,"p-unselectable-text"),this.onResizeInit.emit(e))}onResize(e){if(this.resizing){let i=e.pageX-this.lastPageX,r=e.pageY-this.lastPageY,d=Mt(this.container),_=nt(this.container),P=nt(this.contentViewChild?.nativeElement),O=d+i,f=_+r,ve=this.container.style.minWidth,q=this.container.style.minHeight,re=this.container.getBoundingClientRect(),$e=kt();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(O+=i,f+=r),(!ve||O>parseInt(ve))&&re.left+O<$e.width&&(this._style.width=O+"px",this.container.style.width=this._style.width),(!q||f>parseInt(q))&&re.top+f<$e.height&&(this.contentViewChild.nativeElement.style.height=P+f-_+"px",this._style.height&&(this._style.height=f+"px",this.container.style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}resizeEnd(e){this.resizing&&(this.resizing=!1,it(this.document.body,"p-unselectable-text"),this.onResizeEnd.emit(e))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.documentDragListener||this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.document.defaultView,"mousemove",this.onDrag.bind(this))})}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentDragEndListener(){this.documentDragEndListener||this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.document.defaultView,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragEndListener=null)}bindDocumentResizeListeners(){!this.documentResizeListener&&!this.documentResizeEndListener&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.document.defaultView,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.document.defaultView,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(e,"keydown",i=>{i.key=="Escape"&&this.close(i)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.wrapper):Jt(this.appendTo,this.wrapper))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.wrapper)}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container?.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.modal&&this.enableModality(),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&tt(this.wrapper,"p-overlay-mask-leave");break}}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy(),this.onHide.emit({}),this.cd.markForCheck(),this.maskVisible!==this.visible&&(this.maskVisible=this.visible);break;case"visible":this.onShow.emit({});break}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(this.document.body.style.removeProperty("--scrollbar;-width"),this.maximized=!1),this.modal&&this.disableModality(),qe(this.document.body,"p-overflow-hidden")&&it(this.document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&ye.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Et({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle(),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=V(t)))(r||t)}})();static \u0275cmp=F({type:t,selectors:[["p-dialog"]],contentQueries:function(i,r,d){if(i&1&&(D(d,Nn,4),D(d,Ti,4),D(d,Ei,4),D(d,Bn,4),D(d,Hn,4),D(d,Un,4),D(d,qn,4),D(d,Pe,4)),i&2){let _;T(_=E())&&(r._headerTemplate=_.first),T(_=E())&&(r._contentTemplate=_.first),T(_=E())&&(r._footerTemplate=_.first),T(_=E())&&(r._closeiconTemplate=_.first),T(_=E())&&(r._maximizeiconTemplate=_.first),T(_=E())&&(r._minimizeiconTemplate=_.first),T(_=E())&&(r._headlessTemplate=_.first),T(_=E())&&(r.templates=_)}},viewQuery:function(i,r){if(i&1&&(xe(Qn,5),xe(Ti,5),xe(Ei,5)),i&2){let d;T(d=E())&&(r.headerViewChild=d.first),T(d=E())&&(r.contentViewChild=d.first),T(d=E())&&(r.footerViewChild=d.first)}},inputs:{header:"header",draggable:[2,"draggable","draggable",y],resizable:[2,"resizable","resizable",y],positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:[2,"modal","modal",y],closeOnEscape:[2,"closeOnEscape","closeOnEscape",y],dismissableMask:[2,"dismissableMask","dismissableMask",y],rtl:[2,"rtl","rtl",y],closable:[2,"closable","closable",y],responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",maskStyle:"maskStyle",showHeader:[2,"showHeader","showHeader",y],breakpoint:"breakpoint",blockScroll:[2,"blockScroll","blockScroll",y],autoZIndex:[2,"autoZIndex","autoZIndex",y],baseZIndex:[2,"baseZIndex","baseZIndex",Z],minX:[2,"minX","minX",Z],minY:[2,"minY","minY",Z],focusOnShow:[2,"focusOnShow","focusOnShow",y],maximizable:[2,"maximizable","maximizable",y],keepInViewport:[2,"keepInViewport","keepInViewport",y],focusTrap:[2,"focusTrap","focusTrap",y],transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",closeButtonProps:"closeButtonProps",maximizeButtonProps:"maximizeButtonProps",visible:"visible",style:"style",position:"position",role:"role",headerTemplate:[0,"content","headerTemplate"],contentTemplate:"contentTemplate",footerTemplate:"footerTemplate",closeIconTemplate:"closeIconTemplate",maximizeIconTemplate:"maximizeIconTemplate",minimizeIconTemplate:"minimizeIconTemplate",headlessTemplate:"headlessTemplate"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},features:[te([Si]),z],ngContentSelectors:Zn,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["content",""],["titlebar",""],["icon",""],["footer",""],[3,"ngClass","class","ngStyle","style",4,"ngIf"],[3,"ngClass","ngStyle"],["pFocusTrap","",3,"class","ngClass","ngStyle","style","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","",3,"ngClass","ngStyle","pFocusTrapDisabled"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["style","z-index: 90;",3,"ngClass","mousedown",4,"ngIf"],[3,"ngClass","mousedown",4,"ngIf"],[3,"ngClass",4,"ngIf"],[2,"z-index","90",3,"mousedown","ngClass"],[3,"mousedown","ngClass"],[3,"id","ngClass",4,"ngIf"],[3,"ngClass"],[3,"styleClass","tabindex","ariaLabel","buttonProps","onClick","keydown.enter",4,"ngIf"],[3,"styleClass","ariaLabel","tabindex","buttonProps","onClick","keydown.enter",4,"ngIf"],[3,"id","ngClass"],[3,"onClick","keydown.enter","styleClass","tabindex","ariaLabel","buttonProps"],[4,"ngIf"],[3,"onClick","keydown.enter","styleClass","ariaLabel","tabindex","buttonProps"]],template:function(i,r){i&1&&(Je(Gn),u(0,Po,2,11,"div",6)),i&2&&c("ngIf",r.maskVisible)},dependencies:[ne,ie,N,Se,et,ft,yi,ut,vi,bi,Y],encapsulation:2,data:{animation:[Ce("animation",[ee("void => visible",[De(Lo)]),ee("visible => void",[De(Vo)])])]},changeDetection:0})}return t})();var zo=["header"],jo=["footer"],$o=["rejecticon"],No=["accepticon"],Bo=["message"],Ho=["icon"],Uo=["headless"],qo=[[["p-footer"]]],Qo=["p-footer"],Go=(t,a,e)=>({$implicit:t,onAccept:a,onReject:e}),Zo=t=>({$implicit:t});function Wo(t,a){t&1&&$(0)}function Yo(t,a){if(t&1&&u(0,Wo,1,0,"ng-container",6),t&2){let e=m(2);c("ngTemplateOutlet",e.headlessTemplate||e._headlessTemplate)("ngTemplateOutletContext",Ke(2,Go,e.confirmation,e.onAccept.bind(e),e.onReject.bind(e)))}}function Xo(t,a){t&1&&u(0,Yo,1,6,"ng-template",null,2,ue)}function Jo(t,a){t&1&&$(0)}function Ko(t,a){if(t&1&&(o(0,"div",7),u(1,Jo,1,0,"ng-container",8),n()),t&2){let e=m(3);c("ngClass",e.cx("header")),l(),c("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)}}function ea(t,a){t&1&&u(0,Ko,2,2,"ng-template",null,4,ue)}function ta(t,a){}function ia(t,a){t&1&&u(0,ta,0,0,"ng-template")}function na(t,a){if(t&1&&u(0,ia,1,0,null,8),t&2){let e=m(3);c("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)}}function oa(t,a){if(t&1&&p(0,"i",7),t&2){let e=m(4);A(e.option("icon")),c("ngClass",e.cx("icon"))}}function aa(t,a){if(t&1&&u(0,oa,1,3,"i",11),t&2){let e=m(3);c("ngIf",e.option("icon"))}}function ra(t,a){}function sa(t,a){t&1&&u(0,ra,0,0,"ng-template")}function la(t,a){if(t&1&&u(0,sa,1,0,null,6),t&2){let e=m(3);c("ngTemplateOutlet",e.messageTemplate||e._messageTemplate)("ngTemplateOutletContext",G(2,Zo,e.confirmation))}}function da(t,a){if(t&1&&p(0,"span",10),t&2){let e=m(3);c("ngClass",e.cx("message"))("innerHTML",e.option("message"),Nt)}}function ca(t,a){if(t&1&&u(0,na,1,1)(1,aa,1,1,"i",9)(2,la,1,4)(3,da,1,2,"span",10),t&2){let e=m(2);R(e.iconTemplate||e._iconTemplate?0:!e.iconTemplate&&!e._iconTemplate&&!e._messageTemplate&&!e.messageTemplate?1:-1),l(2),R(e.messageTemplate||e._messageTemplate?2:3)}}function ma(t,a){if(t&1&&u(0,ea,2,0)(1,ca,4,2,"ng-template",null,3,ue),t&2){let e=m();R(e.headerTemplate||e._headerTemplate?0:-1)}}function pa(t,a){t&1&&$(0)}function ua(t,a){if(t&1&&(Be(0),u(1,pa,1,0,"ng-container",8)),t&2){let e=m(2);l(),c("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}function fa(t,a){if(t&1&&p(0,"i"),t&2){let e=m(5);A(e.option("rejectIcon"))}}function ga(t,a){if(t&1&&u(0,fa,1,2,"i",15),t&2){let e=m(4);c("ngIf",e.option("rejectIcon"))}}function _a(t,a){}function ha(t,a){t&1&&u(0,_a,0,0,"ng-template")}function va(t,a){if(t&1){let e=S();o(0,"p-button",13),h("onClick",function(){x(e);let r=m(3);return C(r.onReject())}),u(1,ga,1,1,"i",14)(2,ha,1,0,null,8),n()}if(t&2){let e=m(3);c("label",e.rejectButtonLabel)("styleClass",e.getButtonStyleClass("pcRejectButton","rejectButtonStyleClass"))("ariaLabel",e.option("rejectButtonProps","ariaLabel"))("buttonProps",e.getRejectButtonProps()),l(),R(e.rejectIcon&&!e.rejectIconTemplate&&!e._rejectIconTemplate?1:-1),l(),c("ngTemplateOutlet",e.rejectIconTemplate||e._rejectIconTemplate)}}function ba(t,a){if(t&1&&p(0,"i"),t&2){let e=m(5);A(e.option("acceptIcon"))}}function xa(t,a){if(t&1&&u(0,ba,1,2,"i",15),t&2){let e=m(4);c("ngIf",e.option("acceptIcon"))}}function Ca(t,a){}function ya(t,a){t&1&&u(0,Ca,0,0,"ng-template")}function Ta(t,a){if(t&1){let e=S();o(0,"p-button",13),h("onClick",function(){x(e);let r=m(3);return C(r.onAccept())}),u(1,xa,1,1,"i",14)(2,ya,1,0,null,8),n()}if(t&2){let e=m(3);c("label",e.acceptButtonLabel)("styleClass",e.getButtonStyleClass("pcAcceptButton","acceptButtonStyleClass"))("ariaLabel",e.option("acceptButtonProps","ariaLabel"))("buttonProps",e.getAcceptButtonProps()),l(),R(e.acceptIcon&&!e._acceptIconTemplate&&!e.acceptIconTemplate?1:-1),l(),c("ngTemplateOutlet",e.acceptIconTemplate||e._acceptIconTemplate)}}function Ea(t,a){if(t&1&&u(0,va,3,6,"p-button",12)(1,Ta,3,6,"p-button",12),t&2){let e=m(2);c("ngIf",e.option("rejectVisible")),l(),c("ngIf",e.option("acceptVisible"))}}function Sa(t,a){if(t&1&&u(0,ua,2,1)(1,Ea,2,2),t&2){let e=m();R(e.footerTemplate||e._footerTemplate?0:-1),l(),R(!e.footerTemplate&&!e._footerTemplate?1:-1)}}var Ia=({dt:t})=>`
.p-confirmdialog .p-dialog-content {
    display: flex;
    align-items: center;
    gap:  ${t("confirmdialog.content.gap")};
}

.p-confirmdialog .p-confirmdialog-icon {
    color: ${t("confirmdialog.icon.color")};
    font-size: ${t("confirmdialog.icon.size")};
    width: ${t("confirmdialog.icon.size")};
    height: ${t("confirmdialog.icon.size")};
}
`,wa={root:"p-confirmdialog",icon:"p-confirmdialog-icon",message:"p-confirmdialog-message",pcRejectButton:"p-confirmdialog-reject-button",pcAcceptButton:"p-confirmdialog-accept-button"},wi=(()=>{class t extends je{name="confirmdialog";theme=Ia;classes=wa;static \u0275fac=(()=>{let e;return function(r){return(e||(e=V(t)))(r||t)}})();static \u0275prov=se({token:t,factory:t.\u0275fac})}return t})();var Da=we([W({transform:"{{transform}}",opacity:0}),oe("{{transition}}",W({transform:"none",opacity:1}))]),ka=we([oe("{{transition}}",W({transform:"{{transform}}",opacity:0}))]),Vt=(()=>{class t extends ae{confirmationService;zone;header;icon;message;get style(){return this._style}set style(e){this._style=e,this.cd.markForCheck()}styleClass;maskStyleClass;acceptIcon;acceptLabel;closeAriaLabel;acceptAriaLabel;acceptVisible=!0;rejectIcon;rejectLabel;rejectAriaLabel;rejectVisible=!0;acceptButtonStyleClass;rejectButtonStyleClass;closeOnEscape=!0;dismissableMask;blockScroll=!0;rtl=!1;closable=!0;appendTo="body";key;autoZIndex=!0;baseZIndex=0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";focusTrap=!0;defaultFocus="accept";breakpoints;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}draggable=!0;onHide=new L;footer;_componentStyle=j(wi);headerTemplate;footerTemplate;rejectIconTemplate;acceptIconTemplate;messageTemplate;iconTemplate;headlessTemplate;templates;_headerTemplate;_footerTemplate;_rejectIconTemplate;_acceptIconTemplate;_messageTemplate;_iconTemplate;_headlessTemplate;confirmation;_visible;_style;maskVisible;dialog;wrapper;contentContainer;subscription;preWidth;_position="center";transformOptions="scale(0.7)";styleElement;id=B("pn_id_");ariaLabelledBy=this.getAriaLabelledBy();translationSubscription;get containerClass(){return this.cx("root")+" "+this.styleClass||" "}constructor(e,i){super(),this.confirmationService=e,this.zone=i,this.subscription=this.confirmationService.requireConfirmation$.subscribe(r=>{if(!r){this.hide();return}r.key===this.key&&(this.confirmation=r,Object.keys(r).forEach(_=>{this[_]=r[_]}),this.confirmation.accept&&(this.confirmation.acceptEvent=new L,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new L,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0)})}ngOnInit(){super.ngOnInit(),this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"message":this._messageTemplate=e.template;break;case"icon":this._iconTemplate=e.template;break;case"rejecticon":this._rejectIconTemplate=e.template;break;case"accepticon":this._acceptIconTemplate=e.template;break;case"headless":this._headlessTemplate=e.template;break}})}getAriaLabelledBy(){return this.header!==null?B("pn_id_")+"_header":null}option(e,i){let r=this||this;if(r.hasOwnProperty(e))return i?r[i]:r[e]}getButtonStyleClass(e,i){let r=this.cx(e),d=this.option(i);return[r,d].filter(Boolean).join(" ")}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":return Qe(this.dialog.el.nativeElement,".p-confirm-dialog-accept");case"reject":return Qe(this.dialog.el.nativeElement,".p-confirm-dialog-reject");case"close":return Qe(this.dialog.el.nativeElement,".p-dialog-header-close");case"none":return null;default:return Qe(this.dialog.el.nativeElement,".p-confirm-dialog-accept")}}createStyle(){if(!this.styleElement){this.styleElement=this.document.createElement("style"),this.styleElement.type="text/css",this.document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints)e+=`
                    @media screen and (max-width: ${i}) {
                        .p-dialog[${this.id}] {
                            width: ${this.breakpoints[i]} !important;
                        }
                    }
                `;this.styleElement.innerHTML=e,ke(this.styleElement,"nonce",this.config?.csp()?.nonce)}}close(){this.confirmation?.rejectEvent&&this.confirmation.rejectEvent.emit(Me.CANCEL),this.hide(Me.CANCEL)}hide(e){this.onHide.emit(e),this.visible=!1,this.confirmation=null}destroyStyle(){this.styleElement&&(this.document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle(),super.ngOnDestroy()}onVisibleChange(e){e?this.visible=e:this.close()}onAccept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(Me.ACCEPT)}onReject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(Me.REJECT),this.hide(Me.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(Ge.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(Ge.REJECT)}getAcceptButtonProps(){return this.option("acceptButtonProps")}getRejectButtonProps(){return this.option("rejectButtonProps")}static \u0275fac=function(i){return new(i||t)(I(ge),I(Te))};static \u0275cmp=F({type:t,selectors:[["p-confirmDialog"],["p-confirmdialog"],["p-confirm-dialog"]],contentQueries:function(i,r,d){if(i&1&&(D(d,ni,5),D(d,zo,4),D(d,jo,4),D(d,$o,4),D(d,No,4),D(d,Bo,4),D(d,Ho,4),D(d,Uo,4),D(d,Pe,4)),i&2){let _;T(_=E())&&(r.footer=_.first),T(_=E())&&(r.headerTemplate=_.first),T(_=E())&&(r.footerTemplate=_.first),T(_=E())&&(r.rejectIconTemplate=_.first),T(_=E())&&(r.acceptIconTemplate=_.first),T(_=E())&&(r.messageTemplate=_.first),T(_=E())&&(r.iconTemplate=_.first),T(_=E())&&(r.headlessTemplate=_.first),T(_=E())&&(r.templates=_)}},inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",closeAriaLabel:"closeAriaLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:[2,"acceptVisible","acceptVisible",y],rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:[2,"rejectVisible","rejectVisible",y],acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:[2,"closeOnEscape","closeOnEscape",y],dismissableMask:[2,"dismissableMask","dismissableMask",y],blockScroll:[2,"blockScroll","blockScroll",y],rtl:[2,"rtl","rtl",y],closable:[2,"closable","closable",y],appendTo:"appendTo",key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",y],baseZIndex:[2,"baseZIndex","baseZIndex",Z],transitionOptions:"transitionOptions",focusTrap:[2,"focusTrap","focusTrap",y],defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position",draggable:[2,"draggable","draggable",y]},outputs:{onHide:"onHide"},features:[te([wi]),z],ngContentSelectors:Qo,decls:6,vars:14,consts:[["dialog",""],["footer",""],["headless",""],["content",""],["header",""],["role","alertdialog",3,"visibleChange","visible","closable","styleClass","modal","header","closeOnEscape","blockScroll","appendTo","position","dismissableMask","draggable"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],[4,"ngTemplateOutlet"],[3,"ngClass","class"],[3,"ngClass","innerHTML"],[3,"ngClass","class",4,"ngIf"],[3,"label","styleClass","ariaLabel","buttonProps","onClick",4,"ngIf"],[3,"onClick","label","styleClass","ariaLabel","buttonProps"],[3,"class"],[3,"class",4,"ngIf"]],template:function(i,r){if(i&1){let d=S();Je(qo),o(0,"p-dialog",5,0),h("visibleChange",function(P){return x(d),C(r.onVisibleChange(P))}),u(2,Xo,2,0)(3,ma,3,1)(4,Sa,2,2,"ng-template",null,1,ue),n()}i&2&&(be(r.style),c("visible",r.visible)("closable",r.option("closable"))("styleClass",r.containerClass)("modal",!0)("header",r.option("header"))("closeOnEscape",r.option("closeOnEscape"))("blockScroll",r.option("blockScroll"))("appendTo",r.option("appendTo"))("position",r.position)("dismissableMask",r.dismissableMask)("draggable",r.draggable),l(2),R(r.headlessTemplate||r._headlessTemplate?2:3))},dependencies:[ne,ie,N,Se,ft,Ii,Y],encapsulation:2,data:{animation:[Ce("animation",[ee("void => visible",[De(Da)]),ee("visible => void",[De(ka)])])]},changeDetection:0})}return t})(),Di=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=J({type:t});static \u0275inj=X({imports:[Vt,Y,Y]})}return t})();function Pa(t,a){if(t&1){let e=S();o(0,"tr",71)(1,"td"),s(2),n(),o(3,"td"),p(4,"input",72),n(),o(5,"td"),p(6,"input",73),n(),o(7,"td")(8,"input",74),h("input",function(){let r=x(e).index,d=m();return C(d.updatePrestationTotal(r))}),n()(),o(9,"td")(10,"input",75),h("input",function(){let r=x(e).index,d=m();return C(d.updatePrestationTotal(r))}),n()(),o(11,"td"),p(12,"input",76),n(),o(13,"td")(14,"button",77),h("click",function(){let r=x(e).index,d=m();return C(d.removePrestation(r))}),p(15,"i",55),n()()()}if(t&2){let e=a.index;c("formGroupName",e),l(2),v(e+1)}}function Fa(t,a){t&1&&p(0,"span",78)}function Oa(t,a){if(t&1&&p(0,"img",93),t&2){let e=m(2);c("src",e.previewUrl,Ne)}}function Aa(t,a){if(t&1&&(o(0,"div",95),s(1),n()),t&2){let e=m().$implicit;l(),v(e.description)}}function La(t,a){if(t&1&&(o(0,"tr")(1,"td"),s(2),u(3,Aa,2,1,"div",94),n(),o(4,"td",88),s(5),n(),o(6,"td",88),s(7),n(),o(8,"td",88),s(9),n()()),t&2){let e=a.$implicit;l(2),g(" ",e.designation," "),l(),c("ngIf",e.description),l(2),g("",e.prixUnitaire," CFA"),l(2),v(e.duree),l(2),g("",e.prixTotal," CFA")}}function Va(t,a){if(t&1&&(o(0,"div",86)(1,"h5"),s(2,"Notes"),n(),o(3,"p"),s(4),n()()),t&2){let e,i=m(2);l(4),v((e=i.devisForm.get("notes"))==null?null:e.value)}}function Ra(t,a){if(t&1){let e=S();o(0,"div",3)(1,"div",4)(2,"div",79)(3,"h5",6),s(4,"Aper\xE7u"),n(),o(5,"button",80),h("click",function(){x(e);let r=m();return C(r.showPreview=!1)}),n()(),o(6,"div",81)(7,"div",82)(8,"div")(9,"h4"),s(10),n(),o(11,"p",83),s(12),n(),o(13,"p",83),s(14),n(),o(15,"p"),s(16),n()(),o(17,"div"),u(18,Oa,1,1,"img",84),n()(),o(19,"div",85)(20,"h2"),s(21),n(),o(22,"p"),s(23),n()(),o(24,"div",9)(25,"div",44)(26,"p")(27,"strong"),s(28,"Date:"),n(),s(29),k(30,"date"),n()(),o(31,"div",45)(32,"p")(33,"strong"),s(34,"\xC9ch\xE9ance:"),n(),s(35),k(36,"date"),n()()(),o(37,"div",86)(38,"h5"),s(39,"Client"),n(),o(40,"p",83),s(41),n(),o(42,"p",83),s(43),n(),o(44,"p",83),s(45),n(),o(46,"p"),s(47),n()(),o(48,"div",32)(49,"table",87)(50,"thead")(51,"tr")(52,"th"),s(53,"D\xE9signation"),n(),o(54,"th",88),s(55,"PU"),n(),o(56,"th",88),s(57,"Qt\xE9"),n(),o(58,"th",88),s(59,"Total"),n()()(),o(60,"tbody"),u(61,La,10,5,"tr",70),n()()(),o(62,"div",89)(63,"div",44)(64,"div",90)(65,"span"),s(66,"Total HT:"),n(),o(67,"span"),s(68),n()(),o(69,"div",90)(70,"span"),s(71),n(),o(72,"span"),s(73),n()(),o(74,"div",90)(75,"span"),s(76),n(),o(77,"span"),s(78),n()(),o(79,"div",91)(80,"span"),s(81,"Total TTC:"),n(),o(82,"span"),s(83),n()()()(),u(84,Va,5,1,"div",92),n()()()}if(t&2){let e,i,r,d,_,P,O,f=m();l(10),v((f.companyProfile==null?null:f.companyProfile.companyName)||"Votre Entreprise"),l(2),v(f.companyProfile==null?null:f.companyProfile.address),l(2),Q("",f.companyProfile==null?null:f.companyProfile.postalCode," ",f.companyProfile==null?null:f.companyProfile.city,""),l(2),Q("",f.companyProfile==null?null:f.companyProfile.email," | ",f.companyProfile==null?null:f.companyProfile.phoneNumber,""),l(2),c("ngIf",f.companyProfile==null?null:f.companyProfile.hasLogo),l(3),g("Devis ",(e=f.devisForm.get("reference"))==null?null:e.value,""),l(2),g("Projet: ",(i=f.devisForm.get("nomProjet"))==null?null:i.value,""),l(6),g(" ",M(30,24,(r=f.devisForm.get("dateEmission"))==null?null:r.value,"dd/MM/yyyy"),""),l(6),g(" ",M(36,27,(d=f.devisForm.get("dateEcheance"))==null?null:d.value,"dd/MM/yyyy"),""),l(6),v(f.selectedClient==null?null:f.selectedClient.nom),l(2),v(f.selectedClient==null?null:f.selectedClient.societe),l(2),v(f.selectedClient==null?null:f.selectedClient.adresse),l(2),Q("",f.selectedClient==null?null:f.selectedClient.email," | ",f.selectedClient==null?null:f.selectedClient.telephone,""),l(14),c("ngForOf",f.prestationsArray.value),l(7),g("",f.totalHT," CFA"),l(3),g("TVA (",(_=f.devisForm.get("tva"))==null?null:_.value,"%):"),l(2),g("",f.montantTVA," CFA"),l(3),g("Remise (",(P=f.devisForm.get("remise"))==null?null:P.value,"%):"),l(2),g("-",f.montantRemise," CFA"),l(5),g("",f.totalTTC," CFA"),l(),c("ngIf",(O=f.devisForm.get("notes"))==null?null:O.value)}}function za(t,a){if(t&1){let e=S();o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td")(8,"button",96),h("click",function(){let r=x(e).$implicit,d=m();return C(d.selectPrestation(r))}),s(9," Ajouter "),n()()()}if(t&2){let e=a.$implicit;l(2),v(e.designation),l(2),v(e.description),l(2),g("",e.prixUnitaire," CFA")}}var Ct=class t{constructor(a,e,i,r,d,_,P,O,f){this.fb=a;this.route=e;this.router=i;this.devisService=r;this.clientService=d;this.prestationService=_;this.companyProfileService=P;this.messageService=O;this.confirmationService=f;this.devisForm=this.fb.group({reference:["",b.required],nomProjet:["",b.required],description:[""],client:["",b.required],statut:["BROUILLON",b.required],dateEmission:["",b.required],dateEcheance:["",b.required],prestations:this.fb.array([]),tva:[0],remise:[0],notes:[""]})}devisForm;isLoading=!1;errorMessage="";clients=[];selectedClient=null;companyProfile=null;previewUrl="";showPreview=!1;prestations=[];filteredPrestations=[];searchTermPrestation="";prestationModal;ngOnInit(){this.loadDevis(),this.loadClients(),this.loadCompanyProfile(),this.loadPrestations(),this.initModals()}initModals(){setTimeout(()=>{this.prestationModal=new bootstrap.Modal(document.getElementById("prestationModal"))},500)}loadPrestations(){this.prestationService.findByCreatedBy().subscribe(a=>{this.prestations=a||[],this.filteredPrestations=[...this.prestations],console.log("Prestations charg\xE9es:",this.prestations)},a=>console.error("Erreur lors du chargement des prestations:",a))}get prestationsArray(){return this.devisForm.get("prestations")}get totalHT(){return this.prestationsArray.controls.reduce((a,e)=>a+(e.get("prixTotal")?.value||0),0)}get montantTVA(){return this.totalHT*(this.devisForm.get("tva")?.value||0)/100}get montantRemise(){return this.totalHT*(this.devisForm.get("remise")?.value||0)/100}get totalTTC(){return this.totalHT+this.montantTVA-this.montantRemise}loadDevis(){let a=this.route.snapshot.paramMap.get("id");if(!a){this.errorMessage="ID du devis non trouv\xE9";return}this.isLoading=!0,this.devisService.findByTrackingId(a).subscribe({next:e=>{let i=e.data;this.devisForm.patchValue({reference:i.reference,nomProjet:i.nomProjet,description:i.description,client:i.clientName,statut:i.statut,dateEmission:i.dateEmission,dateEcheance:i.dateEcheance,tva:i.tva,remise:i.remise,notes:i.notes}),this.selectedClient={trackingId:i.clientTrackingId,nom:i.clientName,email:i.clientEmail},this.prestationsArray.clear(),i.prestations.forEach(r=>{this.prestationsArray.push(this.fb.group({trackingId:[r.trackingId],designation:[r.designation],description:[r.description],prixUnitaire:[r.prixUnitaire],duree:[r.duree],prixTotal:[r.prixTotal]}))}),this.isLoading=!1},error:e=>{this.errorMessage="Erreur lors du chargement du devis",this.isLoading=!1,console.error("Erreur:",e)}})}loadClients(){this.clientService.getClients().subscribe({next:a=>{this.clients=a.data||a._embedded.clients},error:a=>{console.error("Erreur lors du chargement des clients:",a)}})}loadCompanyProfile(){this.companyProfileService.getProfile().subscribe({next:a=>{this.companyProfile=a,a.hasLogo&&(this.previewUrl=`${di.apiUrl}/api/profile/logo/${a.trackingId}`)},error:a=>{console.error("Erreur lors du chargement du profil entreprise:",a)}})}openClientModal(){}openPrestationModal(){this.searchTermPrestation="",this.filteredPrestations=[...this.prestations],console.log("Ouverture modal prestations, prestations disponibles:",this.filteredPrestations.length),this.prestationModal.show()}selectPrestation(a){let e=a.trackingId||this.generateTrackingId(),i=this.fb.group({trackingId:[e,b.required],designation:[a.designation,b.required],description:[a.description||""],prixUnitaire:[a.prixUnitaire,[b.required,b.min(0)]],duree:[1,[b.required,b.min(.1)]],prixTotal:[a.prixUnitaire,b.required]});this.prestationsArray.push(i),this.updateTotals(),this.prestationModal.hide(),console.log("Prestation s\xE9lectionn\xE9e ajout\xE9e:",a,"index:",this.prestationsArray.length-1)}generateTrackingId(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){let e=Math.random()*16|0;return(a==="x"?e:e&3|8).toString(16)})}addEmptyPrestation(){let a=this.fb.group({trackingId:[this.generateTrackingId(),b.required],designation:["",b.required],description:[""],prixUnitaire:[0,[b.required,b.min(0)]],duree:[1,[b.required,b.min(.1)]],prixTotal:[0,b.required]});this.prestationsArray.push(a),console.log("Nouvelle prestation vide ajout\xE9e:",a.value),this.updateTotals()}removePrestation(a){this.prestationsArray.removeAt(a),console.log("Suppression prestation index:",a,"prestations restantes:",this.prestationsArray.value),this.updateTotals()}updatePrestationTotal(a){let e=this.prestationsArray.at(a),i=e.get("prixUnitaire")?.value||0,r=e.get("duree")?.value||0,d=i*r;e.get("prixTotal")?.setValue(d),console.log("Mise \xE0 jour du total pour la prestation:",{index:a,prixUnitaire:i,duree:r,prixTotal:d}),this.updateTotals()}updateTotals(){console.log("Mise \xE0 jour des totaux:",{totalHT:this.totalHT,montantTVA:this.montantTVA,montantRemise:this.montantRemise,totalTTC:this.totalTTC})}previewDevis(){this.showPreview=!0}onSubmit(){if(this.devisForm.invalid||!this.selectedClient){this.errorMessage="Veuillez s\xE9lectionner un client";return}this.isLoading=!0;let a={reference:this.devisForm.get("reference")?.value,nomProjet:this.devisForm.get("nomProjet")?.value,description:this.devisForm.get("description")?.value,client:this.selectedClient,dateEmission:this.devisForm.get("dateEmission")?.value,dateEcheance:this.devisForm.get("dateEcheance")?.value,prixTotal:this.totalHT,prixTTC:this.totalTTC,tva:this.devisForm.get("tva")?.value,remise:this.devisForm.get("remise")?.value,statut:this.devisForm.get("statut")?.value,notes:this.devisForm.get("notes")?.value,prestations:this.prestationsArray.controls.map(i=>({trackingId:i.get("trackingId")?.value,designation:i.get("designation")?.value,description:i.get("description")?.value,prixUnitaire:i.get("prixUnitaire")?.value,duree:i.get("duree")?.value,prixTotal:i.get("prixTotal")?.value}))};console.log("Donn\xE9es envoy\xE9es:",JSON.stringify(a,null,2));let e=this.route.snapshot.paramMap.get("id");if(!e){this.errorMessage="ID du devis non trouv\xE9",this.isLoading=!1;return}this.devisService.update(e,a).subscribe({next:i=>{console.log("R\xE9ponse du serveur:",i),this.router.navigate(["/dashboard/devis"])},error:i=>{console.error("Erreur compl\xE8te:",i),console.error("D\xE9tails de l'erreur:",i.error),this.errorMessage="Erreur lors de la mise \xE0 jour du devis: "+(i.error?.message||i.message),this.isLoading=!1}})}deleteDevis(){let a=this.route.snapshot.paramMap.get("id");if(!a){this.errorMessage="ID du devis non trouv\xE9";return}this.confirmationService.confirm({message:"\xCAtes-vous s\xFBr de vouloir supprimer ce devis ?",header:"Confirmation de suppression",icon:"pi pi-exclamation-triangle",acceptLabel:"Oui, supprimer",rejectLabel:"Non, annuler",accept:()=>{this.isLoading=!0,this.devisService.deleteDevis(a).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Devis supprim\xE9 avec succ\xE8s"}),this.router.navigate(["/dashboard/devis"])},error:e=>{this.isLoading=!1,this.messageService.add({severity:"error",summary:"Erreur",detail:`Erreur lors de la suppression du devis: ${e.error?.message||"Erreur inconnue"}`}),console.error("Erreur de suppression:",e)}})}})}static \u0275fac=function(e){return new(e||t)(I(mt),I(ri),I(ze),I(he),I(_t),I(ht),I(gt),I(_e),I(ge))};static \u0275cmp=F({type:t,selectors:[["app-edit-devis"]],standalone:!1,features:[te([_e,ge])],decls:156,vars:12,consts:[[1,"pc-container"],[1,"row"],[1,"row","pc-content"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"row","mb-3"],[1,"col-md-6"],[1,"form-label"],["type","text","formControlName","reference","readonly","",1,"form-control"],["type","text","formControlName","nomProjet",1,"form-control"],[1,"col-12"],["formControlName","description","rows","2",1,"form-control"],[1,"col-md-9"],[1,"input-group"],["type","text","formControlName","client","readonly","",1,"form-control",3,"value"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bx","bx-search-alt"],[1,"col-md-3"],["formControlName","statut",1,"form-select"],["value","BROUILLON"],["value","ENVOY\xC9"],["value","ACCEPT\xC9"],["value","REFUS\xC9"],["for","dateEmission",1,"form-label"],["id","dateEmission","type","date","formControlName","dateEmission",1,"form-control"],["for","dateEcheance",1,"form-label"],["id","dateEcheance","type","date","formControlName","dateEcheance",1,"form-control"],[1,"mt-4"],[1,"table-responsive","mb-3"],[1,"table","table-bordered"],[1,"table-light"],["formArrayName","prestations"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"mb-3"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"bx","bx-plus"],["type","button",1,"btn","btn-outline-secondary","ms-2",3,"click"],[1,"bx","bx-list-plus"],["formControlName","notes","rows","4",1,"form-control"],[1,"row","mb-2"],[1,"col-6"],[1,"col-6","text-end"],[1,"input-group","input-group-sm"],["type","number","formControlName","tva",1,"form-control",3,"input"],[1,"input-group-text"],["type","number","formControlName","remise",1,"form-control",3,"input"],[1,"row","fw-bold"],[1,"text-end","mb-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"bx","bx-show"],["type","button",1,"btn","btn-danger","me-2",3,"click"],[1,"bx","bx-trash"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bx","bx-save"],["class","spinner-border spinner-border-sm ms-1",4,"ngIf"],["class","col-md-12",4,"ngIf"],["id","prestationModal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],["type","text","placeholder","Rechercher une prestation...",1,"form-control","mb-3",3,"ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"formGroupName"],["type","text","formControlName","designation",1,"form-control","form-control-sm"],["type","text","formControlName","description",1,"form-control","form-control-sm"],["type","number","formControlName","prixUnitaire",1,"form-control","form-control-sm",3,"input"],["type","number","formControlName","duree",1,"form-control","form-control-sm",3,"input"],["type","number","formControlName","prixTotal","readonly","",1,"form-control","form-control-sm"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],[1,"spinner-border","spinner-border-sm","ms-1"],[1,"card-header","d-flex","justify-content-between","align-items-center"],["type","button",1,"btn-close",3,"click"],[1,"card-body","preview-pane"],[1,"d-flex","justify-content-between","mb-4"],[1,"mb-1"],["alt","Logo","height","130",3,"src",4,"ngIf"],[1,"text-center","mb-4"],[1,"mb-4"],[1,"table","table-sm"],[1,"text-end"],[1,"row","justify-content-end","mb-4"],[1,"d-flex","justify-content-between","mb-2"],[1,"d-flex","justify-content-between","fw-bold"],["class","mb-4",4,"ngIf"],["alt","Logo","height","130",3,"src"],["class","text-muted small",4,"ngIf"],[1,"text-muted","small"],[1,"btn","btn-sm","btn-primary",3,"click"]],template:function(e,i){e&1&&(p(0,"p-toast")(1,"p-confirmDialog"),o(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"h4",6),s(9,"Modifier le devis"),n()(),o(10,"div",7)(11,"form",8),h("ngSubmit",function(){return i.onSubmit()}),o(12,"div",9)(13,"div",10)(14,"label",11),s(15,"R\xE9f\xE9rence"),n(),p(16,"input",12),n(),o(17,"div",10)(18,"label",11),s(19,"Nom du projet"),n(),p(20,"input",13),n()(),o(21,"div",9)(22,"div",14)(23,"label",11),s(24,"Description"),n(),p(25,"textarea",15),n()(),o(26,"div",9)(27,"div",16)(28,"label",11),s(29,"Client"),n(),o(30,"div",17),p(31,"input",18),o(32,"button",19),h("click",function(){return i.openClientModal()}),p(33,"i",20),s(34," S\xE9lectionner "),n()()(),o(35,"div",21)(36,"label",11),s(37,"Statut"),n(),o(38,"select",22)(39,"option",23),s(40,"Brouillon"),n(),o(41,"option",24),s(42,"Envoy\xE9"),n(),o(43,"option",25),s(44,"Accept\xE9"),n(),o(45,"option",26),s(46,"Refus\xE9"),n()()()(),o(47,"div",9)(48,"div",10)(49,"label",27),s(50,"Date d'\xE9mission"),n(),p(51,"input",28),n(),o(52,"div",10)(53,"label",29),s(54,"Date d'\xE9ch\xE9ance"),n(),p(55,"input",30),n()(),o(56,"h5",31),s(57,"Prestations"),n(),o(58,"div",32)(59,"table",33)(60,"thead",34)(61,"tr")(62,"th"),s(63,"#"),n(),o(64,"th"),s(65,"D\xE9signation"),n(),o(66,"th"),s(67,"Description"),n(),o(68,"th"),s(69,"Prix unitaire"),n(),o(70,"th"),s(71,"Dur\xE9e/Qt\xE9"),n(),o(72,"th"),s(73,"Total"),n(),o(74,"th"),s(75,"Actions"),n()()(),o(76,"tbody",35),u(77,Pa,16,2,"tr",36),n()()(),o(78,"div",37)(79,"button",38),h("click",function(){return i.addEmptyPrestation()}),p(80,"i",39),s(81," Ajouter prestation "),n(),o(82,"button",40),h("click",function(){return i.openPrestationModal()}),p(83,"i",41),s(84," Catalogue "),n()(),o(85,"div",9)(86,"div",10)(87,"div",37)(88,"label",11),s(89,"Notes"),n(),p(90,"textarea",42),n()(),o(91,"div",10)(92,"div",4)(93,"div",7)(94,"div",43)(95,"label",44),s(96,"Total HT"),n(),o(97,"div",45),s(98),n()(),o(99,"div",43)(100,"div",44)(101,"div",46)(102,"input",47),h("input",function(){return i.updateTotals()}),n(),o(103,"span",48),s(104,"% TVA"),n()()(),o(105,"div",45),s(106),n()(),o(107,"div",43)(108,"div",44)(109,"div",46)(110,"input",49),h("input",function(){return i.updateTotals()}),n(),o(111,"span",48),s(112,"% Remise"),n()()(),o(113,"div",45),s(114),n()(),p(115,"hr"),o(116,"div",50)(117,"label",44),s(118,"Total TTC"),n(),o(119,"div",45),s(120),n()()()()()(),o(121,"div",51)(122,"button",52),h("click",function(){return i.previewDevis()}),p(123,"i",53),s(124," Pr\xE9visualiser "),n(),o(125,"button",54),h("click",function(){return i.deleteDevis()}),p(126,"i",55),s(127," Supprimer "),n(),o(128,"button",56),p(129,"i",57),s(130," Enregistrer "),u(131,Fa,1,0,"span",58),n()()()()()(),u(132,Ra,85,30,"div",59),n()()(),o(133,"div",60)(134,"div",61)(135,"div",62)(136,"div",63)(137,"h5",64),s(138,"Catalogue de prestations"),n(),p(139,"button",65),n(),o(140,"div",66)(141,"input",67),pe("ngModelChange",function(d){return me(i.searchTermPrestation,d)||(i.searchTermPrestation=d),d}),n(),o(142,"div",68)(143,"table",69)(144,"thead")(145,"tr")(146,"th"),s(147,"D\xE9signation"),n(),o(148,"th"),s(149,"Description"),n(),o(150,"th"),s(151,"Prix"),n(),o(152,"th"),s(153,"Action"),n()()(),o(154,"tbody"),u(155,za,10,3,"tr",70),n()()()()()()()),e&2&&(l(11),c("formGroup",i.devisForm),l(20),c("value",(i.selectedClient==null?null:i.selectedClient.nom)||""),l(46),c("ngForOf",i.prestationsArray.controls),l(21),g("",i.totalHT," CFA"),l(8),g("",i.montantTVA," CFA"),l(8),g("-",i.montantRemise," CFA"),l(6),g("",i.totalTTC," CFA"),l(8),c("disabled",i.devisForm.invalid||i.isLoading),l(3),c("ngIf",i.isLoading),l(),c("ngIf",i.showPreview),l(9),ce("ngModel",i.searchTermPrestation),l(14),c("ngForOf",i.filteredPrestations))},dependencies:[fe,N,at,Ve,Re,Fe,rt,Le,Oe,ot,Ae,st,ct,lt,dt,Lt,Vt,Ie],encapsulation:2})};var yt=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=F({type:t,selectors:[["app-devis"]],standalone:!1,decls:1,vars:0,template:function(e,i){e&1&&p(0,"router-outlet")},dependencies:[si],encapsulation:2})};var ja=[{path:"",component:yt,children:[{path:"",component:vt},{path:"add-devis",component:bt},{path:"edit-devis/:id",component:Ct}]}],Tt=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=J({type:t});static \u0275inj=X({imports:[Ze.forChild(ja),Ze]})};var ki=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=J({type:t});static \u0275inj=X({providers:[_e,ge],imports:[ne,Ze,Tt,oi,ai,Ci,Di]})};export{ki as DevisModule};
